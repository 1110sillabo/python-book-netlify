<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Python Crash Courses | Programming Digital Humanities. Python (and More) for Academia</title>
  <meta name="description" content="This book introduces the ABC theory, and …" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Python Crash Courses | Programming Digital Humanities. Python (and More) for Academia" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/john/awesome/" />
  
  <meta property="og:description" content="This book introduces the ABC theory, and …" />
  <meta name="github-repo" content="john/awesome" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Python Crash Courses | Programming Digital Humanities. Python (and More) for Academia" />
  
  <meta name="twitter:description" content="This book introduces the ABC theory, and …" />
  

<meta name="author" content="Guglielmo Feis v. 0.1" />


<meta name="date" content="2021-03-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ch4.html"/>
<link rel="next" href="ch6.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="prologue.html"><a href="prologue.html"><i class="fa fa-check"></i><b>1</b> Prologue</a><ul>
<li class="chapter" data-level="1.1" data-path="prologue.html"><a href="prologue.html#the-journey-welcome-to-humandemia"><i class="fa fa-check"></i><b>1.1</b> The Journey: Welcome to <em>HumanDemia</em></a></li>
<li class="chapter" data-level="1.2" data-path="prologue.html"><a href="prologue.html#a-difficult-trade-off-including-book-summary"><i class="fa fa-check"></i><b>1.2</b> A Difficult Trade-Off (including Book Summary)</a></li>
<li class="chapter" data-level="1.3" data-path="prologue.html"><a href="prologue.html#whos-this-book-for"><i class="fa fa-check"></i><b>1.3</b> Who’s this Book for</a><ul>
<li class="chapter" data-level="1.3.1" data-path="prologue.html"><a href="prologue.html#how-coding-helps-in-the-humanities"><i class="fa fa-check"></i><b>1.3.1</b> How Coding Helps in the Humanities</a></li>
<li class="chapter" data-level="1.3.2" data-path="prologue.html"><a href="prologue.html#what-coding-cant-do-for-you"><i class="fa fa-check"></i><b>1.3.2</b> What Coding Can’t Do for You</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="prologue.html"><a href="prologue.html#getting-the-most-out-of-this-book"><i class="fa fa-check"></i><b>1.4</b> Getting the Most Out of this Book</a><ul>
<li class="chapter" data-level="1.4.1" data-path="prologue.html"><a href="prologue.html#assumptions"><i class="fa fa-check"></i><b>1.4.1</b> Assumptions</a></li>
<li class="chapter" data-level="1.4.2" data-path="prologue.html"><a href="prologue.html#type-these-commands-in-and-use-ipython"><i class="fa fa-check"></i><b>1.4.2</b> Type these Commands In (and Use IPython)</a></li>
<li class="chapter" data-level="1.4.3" data-path="prologue.html"><a href="prologue.html#make-it-your-own-and-grow-it"><i class="fa fa-check"></i><b>1.4.3</b> Make it Your Own (and Grow it)</a></li>
<li class="chapter" data-level="1.4.4" data-path="prologue.html"><a href="prologue.html#make-deliberate-mistakes"><i class="fa fa-check"></i><b>1.4.4</b> Make (Deliberate) Mistakes</a></li>
<li class="chapter" data-level="1.4.5" data-path="prologue.html"><a href="prologue.html#read-the-docs"><i class="fa fa-check"></i><b>1.4.5</b> Read the Docs</a></li>
<li class="chapter" data-level="1.4.6" data-path="prologue.html"><a href="prologue.html#learn-from-the-computer-feedback"><i class="fa fa-check"></i><b>1.4.6</b> Learn From the Computer Feedback</a></li>
<li class="chapter" data-level="1.4.7" data-path="prologue.html"><a href="prologue.html#ask-for-help"><i class="fa fa-check"></i><b>1.4.7</b> Ask for Help</a></li>
<li class="chapter" data-level="1.4.8" data-path="prologue.html"><a href="prologue.html#the-importance-of-keyboard-shortcuts"><i class="fa fa-check"></i><b>1.4.8</b> The Importance of (Keyboard) Shortcuts</a></li>
<li class="chapter" data-level="1.4.9" data-path="prologue.html"><a href="prologue.html#book-organization-and-extra-resources"><i class="fa fa-check"></i><b>1.4.9</b> Book Organization and Extra Resources</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="prologue.html"><a href="prologue.html#summary"><i class="fa fa-check"></i><b>1.5</b> Summary</a><ul>
<li class="chapter" data-level="1.5.1" data-path="prologue.html"><a href="prologue.html#more-resources"><i class="fa fa-check"></i><b>1.5.1</b> More Resources</a></li>
<li class="chapter" data-level="1.5.2" data-path="prologue.html"><a href="prologue.html#further-work"><i class="fa fa-check"></i><b>1.5.2</b> Further Work</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Setting up the Environment</b></span></li>
<li class="chapter" data-level="2" data-path="ch2.html"><a href="ch2.html"><i class="fa fa-check"></i><b>2</b> The Universal Typing Machine: Markdown and RStudio</a><ul>
<li class="chapter" data-level="2.1" data-path="ch2.html"><a href="ch2.html#the-boring-side-of-academia"><i class="fa fa-check"></i><b>2.1</b> The Boring Side of Academia</a><ul>
<li class="chapter" data-level="2.1.1" data-path="ch2.html"><a href="ch2.html#sidenote-survey-on-academically-boring-things"><i class="fa fa-check"></i><b>2.1.1</b> Sidenote: Survey on Academically Boring Things</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="ch2.html"><a href="ch2.html#installing-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="ch2.html"><a href="ch2.html#rstudio-settings-darkmode-and-packages"><i class="fa fa-check"></i><b>2.3</b> RStudio Settings: Darkmode and Packages</a></li>
<li class="chapter" data-level="2.4" data-path="ch2.html"><a href="ch2.html#rstudio-automation-for-humanities-tocs-and-bibliographies"><i class="fa fa-check"></i><b>2.4</b> RStudio Automation for Humanities: TOCs and Bibliographies</a><ul>
<li class="chapter" data-level="2.4.1" data-path="ch2.html"><a href="ch2.html#managing-bibliography"><i class="fa fa-check"></i><b>2.4.1</b> Managing Bibliography</a></li>
<li class="chapter" data-level="2.4.2" data-path="ch2.html"><a href="ch2.html#bibliography-template-example"><i class="fa fa-check"></i><b>2.4.2</b> Bibliography Template Example</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="ch2.html"><a href="ch2.html#markdown-basics"><i class="fa fa-check"></i><b>2.5</b> Markdown Basics</a><ul>
<li class="chapter" data-level="2.5.1" data-path="ch2.html"><a href="ch2.html#newlines-pagebreaks-cross-references-and-further-text-divisions"><i class="fa fa-check"></i><b>2.5.1</b> Newlines, Pagebreaks, Cross-references, and further Text Divisions</a></li>
<li class="chapter" data-level="2.5.2" data-path="ch2.html"><a href="ch2.html#creation-of-tables"><i class="fa fa-check"></i><b>2.5.2</b> Creation of Tables</a></li>
<li class="chapter" data-level="2.5.3" data-path="ch2.html"><a href="ch2.html#adding-images"><i class="fa fa-check"></i><b>2.5.3</b> Adding Images</a></li>
<li class="chapter" data-level="2.5.4" data-path="ch2.html"><a href="ch2.html#cross-referencing"><i class="fa fa-check"></i><b>2.5.4</b> Cross Referencing</a></li>
<li class="chapter" data-level="2.5.5" data-path="ch2.html"><a href="ch2.html#adding-codes"><i class="fa fa-check"></i><b>2.5.5</b> Adding Code(s)</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="ch2.html"><a href="ch2.html#comparing-this-setup-with-more-traditional-ones-the-benefits-for-academics"><i class="fa fa-check"></i><b>2.6</b> Comparing this Setup with more Traditional Ones: The Benefits for Academics</a></li>
<li class="chapter" data-level="2.7" data-path="ch2.html"><a href="ch2.html#whats-more-in-rstudio"><i class="fa fa-check"></i><b>2.7</b> What’s More in RStudio</a></li>
<li class="chapter" data-level="2.8" data-path="ch2.html"><a href="ch2.html#rstudio-workflow-learn-write-get-it"><i class="fa fa-check"></i><b>2.8</b> RStudio Workflow: Learn, Write, Get It!</a></li>
<li class="chapter" data-level="2.9" data-path="ch2.html"><a href="ch2.html#books-with-markdown-the-bookdown-package"><i class="fa fa-check"></i><b>2.9</b> Books with Markdown: the Bookdown Package</a><ul>
<li class="chapter" data-level="2.9.1" data-path="ch2.html"><a href="ch2.html#installing-bookdown"><i class="fa fa-check"></i><b>2.9.1</b> Installing Bookdown</a></li>
<li class="chapter" data-level="2.9.2" data-path="ch2.html"><a href="ch2.html#setting-up-a-bookdown-book"><i class="fa fa-check"></i><b>2.9.2</b> Setting Up a Bookdown-book</a></li>
<li class="chapter" data-level="2.9.3" data-path="ch2.html"><a href="ch2.html#bookdown-mechanics"><i class="fa fa-check"></i><b>2.9.3</b> Bookdown Mechanics</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="ch2.html"><a href="ch2.html#summary-1"><i class="fa fa-check"></i><b>2.10</b> Summary</a><ul>
<li class="chapter" data-level="2.10.1" data-path="ch2.html"><a href="ch2.html#list-of-rstudio-shortcuts"><i class="fa fa-check"></i><b>2.10.1</b> List of RStudio Shortcuts</a></li>
<li class="chapter" data-level="2.10.2" data-path="ch2.html"><a href="ch2.html#more-resources-1"><i class="fa fa-check"></i><b>2.10.2</b> More Resources</a></li>
<li class="chapter" data-level="2.10.3" data-path="ch2.html"><a href="ch2.html#further-work-1"><i class="fa fa-check"></i><b>2.10.3</b> Further Work</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ch3.html"><a href="ch3.html"><i class="fa fa-check"></i><b>3</b> Command Line Interface and Git(Hub): Get Ready for Machine Talk and Cooperating with the World</a><ul>
<li class="chapter" data-level="3.1" data-path="ch3.html"><a href="ch3.html#command-line-essentials"><i class="fa fa-check"></i><b>3.1</b> Command Line Essentials</a><ul>
<li class="chapter" data-level="3.1.1" data-path="ch3.html"><a href="ch3.html#navigating-file-system-with-the-command-line"><i class="fa fa-check"></i><b>3.1.1</b> Navigating File System with the Command-Line</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ch3.html"><a href="ch3.html#version-control-with-git"><i class="fa fa-check"></i><b>3.2</b> Version Control with Git</a></li>
<li class="chapter" data-level="3.3" data-path="ch3.html"><a href="ch3.html#installing-git-on-windows"><i class="fa fa-check"></i><b>3.3</b> Installing Git (on Windows)</a><ul>
<li class="chapter" data-level="3.3.1" data-path="ch3.html"><a href="ch3.html#git-and-github"><i class="fa fa-check"></i><b>3.3.1</b> Git and GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ch3.html"><a href="ch3.html#git-operations-and-mechanics"><i class="fa fa-check"></i><b>3.4</b> Git Operations and Mechanics</a><ul>
<li class="chapter" data-level="3.4.1" data-path="ch3.html"><a href="ch3.html#creating-a-new-repository-and-add-contents"><i class="fa fa-check"></i><b>3.4.1</b> Creating a New Repository and Add Contents</a></li>
<li class="chapter" data-level="3.4.2" data-path="ch3.html"><a href="ch3.html#copies-on-git-the-git-clone-command"><i class="fa fa-check"></i><b>3.4.2</b> Copies on Git: the ‘<em>git clone</em>’ Command</a></li>
<li class="chapter" data-level="3.4.3" data-path="ch3.html"><a href="ch3.html#a-practical-cloning-example"><i class="fa fa-check"></i><b>3.4.3</b> A Practical Cloning Example</a></li>
<li class="chapter" data-level="3.4.4" data-path="ch3.html"><a href="ch3.html#git-pushing-new-contents-into-your-projects-with-git-push"><i class="fa fa-check"></i><b>3.4.4</b> Git: Pushing New Contents into your Projects with ‘<em>git push</em>’</a></li>
<li class="chapter" data-level="3.4.5" data-path="ch3.html"><a href="ch3.html#adding-files-matching-certain-conditions"><i class="fa fa-check"></i><b>3.4.5</b> Adding Files Matching Certain Conditions</a></li>
<li class="chapter" data-level="3.4.6" data-path="ch3.html"><a href="ch3.html#git-ignore"><i class="fa fa-check"></i><b>3.4.6</b> Git Ignore</a></li>
<li class="chapter" data-level="3.4.7" data-path="ch3.html"><a href="ch3.html#git-readme"><i class="fa fa-check"></i><b>3.4.7</b> Git Readme</a></li>
<li class="chapter" data-level="3.4.8" data-path="ch3.html"><a href="ch3.html#forking-and-contributing-to-a-project-pull-requests"><i class="fa fa-check"></i><b>3.4.8</b> Forking and Contributing to a Project: Pull Requests</a></li>
<li class="chapter" data-level="3.4.9" data-path="ch3.html"><a href="ch3.html#merging-and-conflict-resolution"><i class="fa fa-check"></i><b>3.4.9</b> Merging and Conflict Resolution</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ch3.html"><a href="ch3.html#github-for-the-humanities"><i class="fa fa-check"></i><b>3.5</b> GitHub for the Humanities</a></li>
<li class="chapter" data-level="3.6" data-path="ch3.html"><a href="ch3.html#summary-2"><i class="fa fa-check"></i><b>3.6</b> Summary</a><ul>
<li class="chapter" data-level="3.6.1" data-path="ch3.html"><a href="ch3.html#list-of-git-commands-and-cli-commands"><i class="fa fa-check"></i><b>3.6.1</b> List of Git Commands and CLI Commands</a></li>
<li class="chapter" data-level="3.6.2" data-path="ch3.html"><a href="ch3.html#shortcuts"><i class="fa fa-check"></i><b>3.6.2</b> Shortcuts</a></li>
<li class="chapter" data-level="3.6.3" data-path="ch3.html"><a href="ch3.html#more-resources-2"><i class="fa fa-check"></i><b>3.6.3</b> More Resources</a></li>
<li class="chapter" data-level="3.6.4" data-path="ch3.html"><a href="ch3.html#further-work-2"><i class="fa fa-check"></i><b>3.6.4</b> Further Work</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ch4.html"><a href="ch4.html"><i class="fa fa-check"></i><b>4</b> Getting Started with Python: Anaconda, Jupyter Notebooks, Google CoLabs and Virtual Environments</a><ul>
<li class="chapter" data-level="4.1" data-path="ch4.html"><a href="ch4.html#installing-python-by-installing-anaconda-a-game-of-snakes"><i class="fa fa-check"></i><b>4.1</b> Installing Python by Installing Anaconda: A Game of Snakes</a></li>
<li class="chapter" data-level="4.2" data-path="ch4.html"><a href="ch4.html#using-and-integrated-development-editor-ide-the-benefits-of-spyder"><i class="fa fa-check"></i><b>4.2</b> Using and Integrated Development Editor (IDE): The Benefits of Spyder</a><ul>
<li class="chapter" data-level="4.2.1" data-path="ch4.html"><a href="ch4.html#running-your-code-in-spyder"><i class="fa fa-check"></i><b>4.2.1</b> Running your Code in Spyder</a></li>
<li class="chapter" data-level="4.2.2" data-path="ch4.html"><a href="ch4.html#other-popular-python-ides"><i class="fa fa-check"></i><b>4.2.2</b> Other Popular (Python) IDEs</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ch4.html"><a href="ch4.html#ipython"><i class="fa fa-check"></i><b>4.3</b> IPython</a></li>
<li class="chapter" data-level="4.4" data-path="ch4.html"><a href="ch4.html#jupyter-notebooks"><i class="fa fa-check"></i><b>4.4</b> Jupyter Notebooks</a></li>
<li class="chapter" data-level="4.5" data-path="ch4.html"><a href="ch4.html#command-line-in-action-the-anaconda-prompt"><i class="fa fa-check"></i><b>4.5</b> Command Line in Action: the Anaconda Prompt</a><ul>
<li class="chapter" data-level="4.5.1" data-path="ch4.html"><a href="ch4.html#basic-anaconda-prompt-commands"><i class="fa fa-check"></i><b>4.5.1</b> Basic Anaconda Prompt Commands</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="ch4.html"><a href="ch4.html#google-colab-or-python-on-the-web"><i class="fa fa-check"></i><b>4.6</b> Google CoLab or Python on the web</a></li>
<li class="chapter" data-level="4.7" data-path="ch4.html"><a href="ch4.html#virtual-environments-preview-into-coding-best-practices"><i class="fa fa-check"></i><b>4.7</b> Virtual Environments: Preview into Coding Best Practices</a></li>
<li class="chapter" data-level="4.8" data-path="ch4.html"><a href="ch4.html#summary-3"><i class="fa fa-check"></i><b>4.8</b> Summary</a><ul>
<li class="chapter" data-level="4.8.1" data-path="ch4.html"><a href="ch4.html#conda-prompt-commands"><i class="fa fa-check"></i><b>4.8.1</b> Conda Prompt Commands</a></li>
<li class="chapter" data-level="4.8.2" data-path="ch4.html"><a href="ch4.html#more-resources-3"><i class="fa fa-check"></i><b>4.8.2</b> More Resources</a></li>
<li class="chapter" data-level="4.8.3" data-path="ch4.html"><a href="ch4.html#further-work-3"><i class="fa fa-check"></i><b>4.8.3</b> Further Work</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Conquering Python</b></span></li>
<li class="chapter" data-level="5" data-path="ch5.html"><a href="ch5.html"><i class="fa fa-check"></i><b>5</b> Python Crash Courses</a><ul>
<li class="chapter" data-level="5.1" data-path="ch5.html"><a href="ch5.html#look-how-easy-it-is-to-write-python"><i class="fa fa-check"></i><b>5.1</b> Look How Easy it Is to Write Python</a></li>
<li class="chapter" data-level="5.2" data-path="ch5.html"><a href="ch5.html#python-in-general-a-readable-design"><i class="fa fa-check"></i><b>5.2</b> Python in General: A Readable Design</a></li>
<li class="chapter" data-level="5.3" data-path="ch5.html"><a href="ch5.html#general-structure-of-a-python-program"><i class="fa fa-check"></i><b>5.3</b> General Structure of a Python Program</a></li>
<li class="chapter" data-level="5.4" data-path="ch5.html"><a href="ch5.html#import-load-all-the-tools-you-need"><i class="fa fa-check"></i><b>5.4</b> Import: Load all the Tools you Need</a></li>
<li class="chapter" data-level="5.5" data-path="ch5.html"><a href="ch5.html#functions-let-your-program-do-something-for-you"><i class="fa fa-check"></i><b>5.5</b> Functions: Let your Program Do Something for You</a></li>
<li class="chapter" data-level="5.6" data-path="ch5.html"><a href="ch5.html#data-structure-everything-has-its-natural-place"><i class="fa fa-check"></i><b>5.6</b> Data Structure: Everything Has its Natural Place</a><ul>
<li class="chapter" data-level="5.6.1" data-path="ch5.html"><a href="ch5.html#string-literals"><i class="fa fa-check"></i><b>5.6.1</b> String Literals</a></li>
<li class="chapter" data-level="5.6.2" data-path="ch5.html"><a href="ch5.html#lists"><i class="fa fa-check"></i><b>5.6.2</b> Lists</a></li>
<li class="chapter" data-level="5.6.3" data-path="ch5.html"><a href="ch5.html#dictionaries"><i class="fa fa-check"></i><b>5.6.3</b> Dictionaries</a></li>
<li class="chapter" data-level="5.6.4" data-path="ch5.html"><a href="ch5.html#other-data-types-and-data-structures-integer-and-float-boolean-tuples-sets"><i class="fa fa-check"></i><b>5.6.4</b> Other Data Types and Data Structures: Integer and Float; Boolean, Tuples, Sets</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="ch5.html"><a href="ch5.html#flow-control"><i class="fa fa-check"></i><b>5.7</b> Flow Control</a><ul>
<li class="chapter" data-level="5.7.1" data-path="ch5.html"><a href="ch5.html#for-loops-iteration-and-unpacking"><i class="fa fa-check"></i><b>5.7.1</b> For Loops: Iteration and Unpacking</a></li>
<li class="chapter" data-level="5.7.2" data-path="ch5.html"><a href="ch5.html#if-you-want-to-evaluate-conditionals-add-if"><i class="fa fa-check"></i><b>5.7.2</b> If you Want to Evaluate Conditionals, Add If</a></li>
<li class="chapter" data-level="5.7.3" data-path="ch5.html"><a href="ch5.html#make-things-last-for-a-while-with-while-and-remember-to-break-them"><i class="fa fa-check"></i><b>5.7.3</b> Make Things Last for a While with While (and Remember to Break them)</a></li>
<li class="chapter" data-level="5.7.4" data-path="ch5.html"><a href="ch5.html#prevent-crashes-with-tryexcept"><i class="fa fa-check"></i><b>5.7.4</b> Prevent Crashes with Try/Except</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="ch5.html"><a href="ch5.html#classes-and-comprehensions-more-pythonic-things"><i class="fa fa-check"></i><b>5.8</b> Classes and Comprehensions: More Pythonic Things</a><ul>
<li class="chapter" data-level="5.8.1" data-path="ch5.html"><a href="ch5.html#classes-blueprints-for-more"><i class="fa fa-check"></i><b>5.8.1</b> Classes: BluePrints for More</a></li>
<li class="chapter" data-level="5.8.2" data-path="ch5.html"><a href="ch5.html#comprehension"><i class="fa fa-check"></i><b>5.8.2</b> Comprehension</a></li>
<li class="chapter" data-level="5.8.3" data-path="ch5.html"><a href="ch5.html#more-comprehensions"><i class="fa fa-check"></i><b>5.8.3</b> More Comprehensions</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="ch5.html"><a href="ch5.html#functions-revisited-args-times"><i class="fa fa-check"></i><b>5.9</b> Functions Revisited: *Args Times!</a></li>
<li class="chapter" data-level="5.10" data-path="ch5.html"><a href="ch5.html#whats-in-a-name-naming-conventions-and-styles"><i class="fa fa-check"></i><b>5.10</b> What’s In a Name: Naming Conventions and Styles</a></li>
<li class="chapter" data-level="5.11" data-path="ch5.html"><a href="ch5.html#saving-and-running-a-python-program-.py-and-.pyw"><i class="fa fa-check"></i><b>5.11</b> Saving and Running a Python Program: .py and .pyw</a></li>
<li class="chapter" data-level="5.12" data-path="ch5.html"><a href="ch5.html#working-with-files"><i class="fa fa-check"></i><b>5.12</b> Working with Files</a><ul>
<li class="chapter" data-level="5.12.1" data-path="ch5.html"><a href="ch5.html#file-types-text-and-data"><i class="fa fa-check"></i><b>5.12.1</b> File Types: Text and Data</a></li>
<li class="chapter" data-level="5.12.2" data-path="ch5.html"><a href="ch5.html#file-modes-what-do-you-want-to-do-with-files"><i class="fa fa-check"></i><b>5.12.2</b> File Modes: What Do you Want to Do with Files?</a></li>
<li class="chapter" data-level="5.12.3" data-path="ch5.html"><a href="ch5.html#opening-and-writing-to-file"><i class="fa fa-check"></i><b>5.12.3</b> Opening and Writing to File</a></li>
<li class="chapter" data-level="5.12.4" data-path="ch5.html"><a href="ch5.html#matching-files-with-a-certain-ending-system-paths-and-working-directory"><i class="fa fa-check"></i><b>5.12.4</b> Matching Files with a Certain Ending, System Paths, and Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="ch5.html"><a href="ch5.html#regular-expressions"><i class="fa fa-check"></i><b>5.13</b> Regular Expressions</a><ul>
<li class="chapter" data-level="5.13.1" data-path="ch5.html"><a href="ch5.html#regex-notable-features"><i class="fa fa-check"></i><b>5.13.1</b> Regex Notable Features</a></li>
<li class="chapter" data-level="5.13.2" data-path="ch5.html"><a href="ch5.html#matching-expressions"><i class="fa fa-check"></i><b>5.13.2</b> Matching Expressions</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="ch5.html"><a href="ch5.html#learn-by-doing-for-the-humanities-matching-bibliographical-patterns"><i class="fa fa-check"></i><b>5.14</b> Learn by Doing for the Humanities: Matching Bibliographical Patterns</a><ul>
<li class="chapter" data-level="5.14.1" data-path="ch5.html"><a href="ch5.html#capturing-groups"><i class="fa fa-check"></i><b>5.14.1</b> Capturing Groups</a></li>
<li class="chapter" data-level="5.14.2" data-path="ch5.html"><a href="ch5.html#matching-author-date"><i class="fa fa-check"></i><b>5.14.2</b> Matching Author (date)</a></li>
<li class="chapter" data-level="5.14.3" data-path="ch5.html"><a href="ch5.html#matching-author-date-and-author-date"><i class="fa fa-check"></i><b>5.14.3</b> Matching (Author date) and (Author, date)</a></li>
<li class="chapter" data-level="5.14.4" data-path="ch5.html"><a href="ch5.html#fulldata"><i class="fa fa-check"></i><b>5.14.4</b> Fulldata</a></li>
<li class="chapter" data-level="5.14.5" data-path="ch5.html"><a href="ch5.html#limitations-open-issues-and-regex-building-tips"><i class="fa fa-check"></i><b>5.14.5</b> Limitations, Open Issues and Regex Building Tips</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="ch5.html"><a href="ch5.html#summary-4"><i class="fa fa-check"></i><b>5.15</b> Summary</a><ul>
<li class="chapter" data-level="5.15.1" data-path="ch5.html"><a href="ch5.html#programming-concepts-methods-and-functions-recap"><i class="fa fa-check"></i><b>5.15.1</b> Programming Concepts, Methods and Functions Recap</a></li>
<li class="chapter" data-level="5.15.2" data-path="ch5.html"><a href="ch5.html#re-module-useful-regex-commands"><i class="fa fa-check"></i><b>5.15.2</b> Re module (useful regex Commands)</a></li>
<li class="chapter" data-level="5.15.3" data-path="ch5.html"><a href="ch5.html#more-resources-4"><i class="fa fa-check"></i><b>5.15.3</b> More Resources</a></li>
<li class="chapter" data-level="5.15.4" data-path="ch5.html"><a href="ch5.html#further-work-4"><i class="fa fa-check"></i><b>5.15.4</b> Further Work</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ch6.html"><a href="ch6.html"><i class="fa fa-check"></i><b>6</b> Moving Forward: From Beginner to Pythonista</a><ul>
<li class="chapter" data-level="6.1" data-path="ch6.html"><a href="ch6.html#introduction-five-sources-of-mystery"><i class="fa fa-check"></i><b>6.1</b> Introduction: Five Sources of Mystery</a><ul>
<li class="chapter" data-level="6.1.1" data-path="ch6.html"><a href="ch6.html#vocabulary"><i class="fa fa-check"></i><b>6.1.1</b> Vocabulary</a></li>
<li class="chapter" data-level="6.1.2" data-path="ch6.html"><a href="ch6.html#coding-for-others"><i class="fa fa-check"></i><b>6.1.2</b> Coding for Others</a></li>
<li class="chapter" data-level="6.1.3" data-path="ch6.html"><a href="ch6.html#python-specifics-and-internals"><i class="fa fa-check"></i><b>6.1.3</b> Python Specifics and Internals</a></li>
<li class="chapter" data-level="6.1.4" data-path="ch6.html"><a href="ch6.html#being-pythonic"><i class="fa fa-check"></i><b>6.1.4</b> Being Pythonic</a></li>
<li class="chapter" data-level="6.1.5" data-path="ch6.html"><a href="ch6.html#black-boxes"><i class="fa fa-check"></i><b>6.1.5</b> Black boxes</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="ch6.html"><a href="ch6.html#approaching-the-tutorials-in-a-good-way"><i class="fa fa-check"></i><b>6.2</b> Approaching the Tutorials in a Good Way</a></li>
<li class="chapter" data-level="6.3" data-path="ch6.html"><a href="ch6.html#reading-the-docs"><i class="fa fa-check"></i><b>6.3</b> Reading the Docs</a><ul>
<li class="chapter" data-level="6.3.1" data-path="ch6.html"><a href="ch6.html#why-read-the-docs-a-real-life-case-with-bookdown-and-ebooks"><i class="fa fa-check"></i><b>6.3.1</b> Why Read the Docs? (A Real-life Case with Bookdown and Ebooks)</a></li>
<li class="chapter" data-level="6.3.2" data-path="ch6.html"><a href="ch6.html#what-to-look-for-in-the-docs"><i class="fa fa-check"></i><b>6.3.2</b> What to Look for in the Docs</a></li>
<li class="chapter" data-level="6.3.3" data-path="ch6.html"><a href="ch6.html#know-your-error-messages-and-exceptions"><i class="fa fa-check"></i><b>6.3.3</b> Know your Error Messages and Exceptions</a></li>
<li class="chapter" data-level="6.3.4" data-path="ch6.html"><a href="ch6.html#patterns-and-examples"><i class="fa fa-check"></i><b>6.3.4</b> Patterns and Examples</a></li>
<li class="chapter" data-level="6.3.5" data-path="ch6.html"><a href="ch6.html#docs-creation-the-impact-of-automation"><i class="fa fa-check"></i><b>6.3.5</b> Docs Creation: The Impact of Automation</a></li>
<li class="chapter" data-level="6.3.6" data-path="ch6.html"><a href="ch6.html#special-kinds-of-docs"><i class="fa fa-check"></i><b>6.3.6</b> Special Kinds of Docs</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ch6.html"><a href="ch6.html#summary-5"><i class="fa fa-check"></i><b>6.4</b> Summary</a><ul>
<li class="chapter" data-level="6.4.1" data-path="ch6.html"><a href="ch6.html#more-resources-5"><i class="fa fa-check"></i><b>6.4.1</b> More Resources</a></li>
<li class="chapter" data-level="6.4.2" data-path="ch6.html"><a href="ch6.html#further-work-5"><i class="fa fa-check"></i><b>6.4.2</b> Further Work</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Programming for Fun and the Academia</b></span></li>
<li class="chapter" data-level="7" data-path="ch7.html"><a href="ch7.html"><i class="fa fa-check"></i><b>7</b> StartUp Optimization, Corpora Builder and Corpora Opener</a><ul>
<li class="chapter" data-level="7.1" data-path="ch7.html"><a href="ch7.html#startup-optimization-the-challenge"><i class="fa fa-check"></i><b>7.1</b> Startup Optimization: The Challenge</a><ul>
<li class="chapter" data-level="7.1.1" data-path="ch7.html"><a href="ch7.html#automation-script-a-description"><i class="fa fa-check"></i><b>7.1.1</b> Automation Script: A Description</a></li>
<li class="chapter" data-level="7.1.2" data-path="ch7.html"><a href="ch7.html#scheduling-the-task"><i class="fa fa-check"></i><b>7.1.2</b> Scheduling the Task</a></li>
<li class="chapter" data-level="7.1.3" data-path="ch7.html"><a href="ch7.html#extend-it"><i class="fa fa-check"></i><b>7.1.3</b> Extend It</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="ch7.html"><a href="ch7.html#corpora-builder-program-overview"><i class="fa fa-check"></i><b>7.2</b> Corpora Builder: Program Overview</a><ul>
<li class="chapter" data-level="7.2.1" data-path="ch7.html"><a href="ch7.html#connecting-to-the-search-engine-and-performing-the-search"><i class="fa fa-check"></i><b>7.2.1</b> Connecting to the Search Engine and Performing the Search</a></li>
<li class="chapter" data-level="7.2.2" data-path="ch7.html"><a href="ch7.html#corpora-builder-adding-safe-tests-and-ensuring-our-connection-works"><i class="fa fa-check"></i><b>7.2.2</b> Corpora Builder: Adding Safe Tests and Ensuring our Connection Works</a></li>
<li class="chapter" data-level="7.2.3" data-path="ch7.html"><a href="ch7.html#from-search-results-to-links"><i class="fa fa-check"></i><b>7.2.3</b> From Search Results to Links?</a></li>
<li class="chapter" data-level="7.2.4" data-path="ch7.html"><a href="ch7.html#bad-outcomes"><i class="fa fa-check"></i><b>7.2.4</b> [] Bad Outcomes</a></li>
<li class="chapter" data-level="7.2.5" data-path="ch7.html"><a href="ch7.html#extracting-more-specific-links"><i class="fa fa-check"></i><b>7.2.5</b> Extracting more Specific Links</a></li>
<li class="chapter" data-level="7.2.6" data-path="ch7.html"><a href="ch7.html#filter-through-keywords"><i class="fa fa-check"></i><b>7.2.6</b> Filter Through Keywords</a></li>
<li class="chapter" data-level="7.2.7" data-path="ch7.html"><a href="ch7.html#filter-removing-common-noise"><i class="fa fa-check"></i><b>7.2.7</b> Filter Removing Common Noise</a></li>
<li class="chapter" data-level="7.2.8" data-path="ch7.html"><a href="ch7.html#saving-our-queries"><i class="fa fa-check"></i><b>7.2.8</b> Saving Our Queries</a></li>
<li class="chapter" data-level="7.2.9" data-path="ch7.html"><a href="ch7.html#iteration-moving-to-the-next-page"><i class="fa fa-check"></i><b>7.2.9</b> Iteration: Moving to the Next Page</a></li>
<li class="chapter" data-level="7.2.10" data-path="ch7.html"><a href="ch7.html#helper-functions"><i class="fa fa-check"></i><b>7.2.10</b> Helper Functions</a></li>
<li class="chapter" data-level="7.2.11" data-path="ch7.html"><a href="ch7.html#adding-progress-bars-tqdm"><i class="fa fa-check"></i><b>7.2.11</b> Adding Progress Bars: Tqdm</a></li>
<li class="chapter" data-level="7.2.12" data-path="ch7.html"><a href="ch7.html#corpora-builder-limitations"><i class="fa fa-check"></i><b>7.2.12</b> Corpora Builder Limitations</a></li>
<li class="chapter" data-level="7.2.13" data-path="ch7.html"><a href="ch7.html#iterating-further"><i class="fa fa-check"></i><b>7.2.13</b> Iterating Further</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ch7.html"><a href="ch7.html#corpora-opener-program-overview"><i class="fa fa-check"></i><b>7.3</b> Corpora Opener: Program Overview</a><ul>
<li class="chapter" data-level="7.3.1" data-path="ch7.html"><a href="ch7.html#opening-only-a-specific-amount-of-files"><i class="fa fa-check"></i><b>7.3.1</b> Opening Only a Specific Amount of Files</a></li>
<li class="chapter" data-level="7.3.2" data-path="ch7.html"><a href="ch7.html#issue-opening-links"><i class="fa fa-check"></i><b>7.3.2</b> Issue Opening Links</a></li>
<li class="chapter" data-level="7.3.3" data-path="ch7.html"><a href="ch7.html#new-iteration"><i class="fa fa-check"></i><b>7.3.3</b> New Iteration</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ch7.html"><a href="ch7.html#summary-6"><i class="fa fa-check"></i><b>7.4</b> Summary</a><ul>
<li class="chapter" data-level="7.4.1" data-path="ch7.html"><a href="ch7.html#more-resources-6"><i class="fa fa-check"></i><b>7.4.1</b> More Resources</a></li>
<li class="chapter" data-level="7.4.2" data-path="ch7.html"><a href="ch7.html#further-work-6"><i class="fa fa-check"></i><b>7.4.2</b> Further Work</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ch8.html"><a href="ch8.html"><i class="fa fa-check"></i><b>8</b> Scraping Bibliographies with Bibliographer</a><ul>
<li class="chapter" data-level="8.1" data-path="ch8.html"><a href="ch8.html#bibliographer-program-overview"><i class="fa fa-check"></i><b>8.1</b> Bibliographer: Program Overview</a><ul>
<li class="chapter" data-level="8.1.1" data-path="ch8.html"><a href="ch8.html#general-settings-and-imports"><i class="fa fa-check"></i><b>8.1.1</b> General Settings and Imports</a></li>
<li class="chapter" data-level="8.1.2" data-path="ch8.html"><a href="ch8.html#from-pdf-to-txt"><i class="fa fa-check"></i><b>8.1.2</b> From Pdf to Txt</a></li>
<li class="chapter" data-level="8.1.3" data-path="ch8.html"><a href="ch8.html#cleaning-the-txt"><i class="fa fa-check"></i><b>8.1.3</b> Cleaning the Txt</a></li>
<li class="chapter" data-level="8.1.4" data-path="ch8.html"><a href="ch8.html#regex-processing"><i class="fa fa-check"></i><b>8.1.4</b> Regex Processing</a></li>
<li class="chapter" data-level="8.1.5" data-path="ch8.html"><a href="ch8.html#getting-data-with-regexes"><i class="fa fa-check"></i><b>8.1.5</b> Getting Data with Regexes</a></li>
<li class="chapter" data-level="8.1.6" data-path="ch8.html"><a href="ch8.html#exporting-to-csv"><i class="fa fa-check"></i><b>8.1.6</b> Exporting to CSV</a></li>
<li class="chapter" data-level="8.1.7" data-path="ch8.html"><a href="ch8.html#helper-functions-1"><i class="fa fa-check"></i><b>8.1.7</b> Helper Functions</a></li>
<li class="chapter" data-level="8.1.8" data-path="ch8.html"><a href="ch8.html#tips-for-graphing-a-debate"><i class="fa fa-check"></i><b>8.1.8</b> Tips for Graphing a Debate</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="ch8.html"><a href="ch8.html#summary-7"><i class="fa fa-check"></i><b>8.2</b> Summary</a><ul>
<li class="chapter" data-level="8.2.1" data-path="ch8.html"><a href="ch8.html#more-resources-7"><i class="fa fa-check"></i><b>8.2.1</b> More Resources</a></li>
<li class="chapter" data-level="8.2.2" data-path="ch8.html"><a href="ch8.html#further-work-7"><i class="fa fa-check"></i><b>8.2.2</b> Further Work</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programming Digital Humanities. Python (and More) for Academia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ch5" class="section level1">
<h1><span class="header-section-number">5</span> Python Crash Courses</h1>
<p>“Programming languages are <strong>languages</strong>,” says the <em>HumanDemia</em> teaching material. “They also have dialects and programming styles. They are alive and have communities”.</p>
<p>Here we start with a crash-course on Python, highlighting some of the things we are going to cover in Part III, dedicated to programming things that may have an academic import. The next chapter covers dialects and styles, Python features that can be and feel hard to learn, and how to get the most out of our Python-learning journey.</p>
<p>As you already know, <em>HumanDemia</em> suggests you to type the code yourself. If you really want to copy and paste some of it, I understand that. Still, <em>beware of the quirkiness of pdf</em>. Even if you copy and paste the code the spacing is likely to be lost - and, as you are going to find out, spacing is vital in Python.<a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a></p>
<p>Also, to make sure the code fits in the pdf page and e-reader screen, I have to use multiple strings quite often. There two ways to continue a string to the next line and I have used the one with ‘\’ more than I wanted to. Nonetheless, I thought that made the string continuation easier to be recognized in some cases and so I used it.</p>
<div id="look-how-easy-it-is-to-write-python" class="section level2">
<h2><span class="header-section-number">5.1</span> Look How Easy it Is to Write Python</h2>
<p>Let’s go super experimental and harsh here. Take a look at that.</p>
<p>Can you read some of that? Can you guess what the various parts of the code do?</p>
<p><em>Crash impact with Python (Pt. 1) - Ch. 5.1</em></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="im">from</span> collections <span class="im">import</span> Counter</a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw">def</span> words(text): <span class="cf">return</span> re.findall(<span class="vs">r&#39;\w+&#39;</span>, text.lower())</a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6">WORDS <span class="op">=</span> Counter(words(<span class="bu">open</span>(<span class="st">&#39;big.txt&#39;</span>).read()))</a>
<a class="sourceLine" id="cb7-7" title="7"></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="kw">def</span> P(word, N<span class="op">=</span><span class="bu">sum</span>(WORDS.values())): </a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="co">&quot;Probability of `word`.&quot;</span></a>
<a class="sourceLine" id="cb7-10" title="10">    <span class="cf">return</span> WORDS[word] <span class="op">/</span> N</a>
<a class="sourceLine" id="cb7-11" title="11"></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="kw">def</span> correction(word): </a>
<a class="sourceLine" id="cb7-13" title="13">    <span class="co">&quot;Most probable spelling correction for word.&quot;</span></a>
<a class="sourceLine" id="cb7-14" title="14">    <span class="cf">return</span> <span class="bu">max</span>(candidates(word), key<span class="op">=</span>P)</a>
<a class="sourceLine" id="cb7-15" title="15"></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="kw">def</span> candidates(word): </a>
<a class="sourceLine" id="cb7-17" title="17">    <span class="co">&quot;Generate possible spelling corrections for word.&quot;</span></a>
<a class="sourceLine" id="cb7-18" title="18">    <span class="cf">return</span> (known([word]) <span class="kw">or</span> known(edits1(word)) <span class="op">\</span></a>
<a class="sourceLine" id="cb7-19" title="19">    <span class="kw">or</span> known(edits2(word)) <span class="kw">or</span> [word])</a>
<a class="sourceLine" id="cb7-20" title="20"></a>
<a class="sourceLine" id="cb7-21" title="21"><span class="kw">def</span> known(words): </a>
<a class="sourceLine" id="cb7-22" title="22">    <span class="co">&quot;The subset of `words` that appear in the dictionary of WORDS.&quot;</span></a>
<a class="sourceLine" id="cb7-23" title="23">    <span class="cf">return</span> <span class="bu">set</span>(w <span class="cf">for</span> w <span class="kw">in</span> words <span class="cf">if</span> w <span class="kw">in</span> WORDS)</a></code></pre></div>
<p>Here are some things to note:</p>
<ul>
<li>Python reads a lot like English;</li>
<li>it does not look too much “programmy”: there are no curly brackets;</li>
<li>there are some patterns we can identify: def word(anotherword)<strong>:</strong> - the column is important!</li>
<li>things look nice and ordered. Space seems important.</li>
<li>we can recognize some commands: return, open, import.</li>
</ul>
<p>Ok, we are going to read some of it together. The first thing we learn about Python is that comments are included with the hashtag symbol #. Yep, comments in Python are different from Markdown <em>syntactically</em>; <em>conceptually</em> they are still comments.</p>
<p>So we are going to read this together adding some comments to guess what the code does.</p>
<p><em>Crash Commented Python</em></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" title="1"><span class="co">#we import something</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="im">import</span> re <span class="co">#that&#39;s mysterious</span></a>
<a class="sourceLine" id="cb8-3" title="3"></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#that&#39;s a counter</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="im">from</span> collections <span class="im">import</span> Counter</a>
<a class="sourceLine" id="cb8-6" title="6"></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">#we def(ine)? something related to words</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">#we are getting something in return that deals with findall</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="kw">def</span> words(text): <span class="cf">return</span> re.findall(<span class="vs">r&#39;\w+&#39;</span>, text.lower())</a>
<a class="sourceLine" id="cb8-10" title="10"></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="co">#we are doing something to the &#39;text&#39;, there&#39;s this</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="co">#lower() on it. It has to do with format or capitalization?</span></a>
<a class="sourceLine" id="cb8-13" title="13"></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="co">#now we have allcaps. That should mean something</span></a>
<a class="sourceLine" id="cb8-15" title="15"></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="co">#we open a txt file named &#39;big&#39;, probably</span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="co">#open(&#39;big.txt&#39;).read() probably reads the file</span></a>
<a class="sourceLine" id="cb8-18" title="18">WORDS <span class="op">=</span> Counter(words(<span class="bu">open</span>(<span class="st">&#39;big.txt&#39;</span>).read()))</a>
<a class="sourceLine" id="cb8-19" title="19"></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="co">#WORDS probably contains some form of Counter operation</span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="co">#performed on the big txt file we&#39;ve read</span></a>
<a class="sourceLine" id="cb8-22" title="22"></a>
<a class="sourceLine" id="cb8-23" title="23"><span class="co">#from here we have other definitions</span></a>
<a class="sourceLine" id="cb8-24" title="24"><span class="co"># There&#39;s text between &quot; &quot; that tells something about that</span></a>
<a class="sourceLine" id="cb8-25" title="25"><span class="kw">def</span> P(word, N<span class="op">=</span><span class="bu">sum</span>(WORDS.values())): </a>
<a class="sourceLine" id="cb8-26" title="26">    <span class="co">&quot;Probability of `word`.&quot;</span></a>
<a class="sourceLine" id="cb8-27" title="27">    <span class="cf">return</span> WORDS[word] <span class="op">/</span> N</a>
<a class="sourceLine" id="cb8-28" title="28"><span class="co">#here we are getting a probability of a word.</span></a>
<a class="sourceLine" id="cb8-29" title="29"><span class="co">#we take the word out of WORDS and divide it by N.</span></a>
<a class="sourceLine" id="cb8-30" title="30"><span class="co">#Above we know that N is equal to the sum of</span></a>
<a class="sourceLine" id="cb8-31" title="31"><span class="co">#WORDS.values... no idea about the internals but sounds ok</span></a>
<a class="sourceLine" id="cb8-32" title="32"></a>
<a class="sourceLine" id="cb8-33" title="33"></a>
<a class="sourceLine" id="cb8-34" title="34"><span class="kw">def</span> correction(word): </a>
<a class="sourceLine" id="cb8-35" title="35">    <span class="co">&quot;Most probable spelling correction for word.&quot;</span></a>
<a class="sourceLine" id="cb8-36" title="36">    <span class="cf">return</span> <span class="bu">max</span>(candidates(word), key<span class="op">=</span>P)</a>
<a class="sourceLine" id="cb8-37" title="37"></a>
<a class="sourceLine" id="cb8-38" title="38"><span class="co">#here learn we are dealing with spellings. To correct a word</span></a>
<a class="sourceLine" id="cb8-39" title="39"><span class="co">#we return the &#39;max&#39; of candidates for the word based on</span></a>
<a class="sourceLine" id="cb8-40" title="40"><span class="co"># the key P, i.e. the probability we have just defined.</span></a>
<a class="sourceLine" id="cb8-41" title="41"><span class="co">#but, wait, where are these candidates? Move on...</span></a>
<a class="sourceLine" id="cb8-42" title="42"></a>
<a class="sourceLine" id="cb8-43" title="43"><span class="co">#...here they are</span></a>
<a class="sourceLine" id="cb8-44" title="44"><span class="kw">def</span> candidates(word): </a>
<a class="sourceLine" id="cb8-45" title="45">    <span class="co">&quot;Generate possible spelling corrections for word.&quot;</span></a>
<a class="sourceLine" id="cb8-46" title="46">    <span class="co">#that&#39;s what candidates def does...</span></a>
<a class="sourceLine" id="cb8-47" title="47">    <span class="cf">return</span> (known([word]) <span class="kw">or</span> known(edits1(word)) <span class="op">\</span></a>
<a class="sourceLine" id="cb8-48" title="48">    <span class="kw">or</span> known(edits2(word)) <span class="kw">or</span> [word])</a>
<a class="sourceLine" id="cb8-49" title="49"><span class="co">#ok, this return statement looks programmy</span></a>
<a class="sourceLine" id="cb8-50" title="50"><span class="co">#we can spot 4 alternatives listed with &#39;or&#39;</span></a>
<a class="sourceLine" id="cb8-51" title="51"><span class="co">#we are mentioning known words and known edits of the words</span></a>
<a class="sourceLine" id="cb8-52" title="52"><span class="co">#chances are these will follow...</span></a>
<a class="sourceLine" id="cb8-53" title="53"></a>
<a class="sourceLine" id="cb8-54" title="54"><span class="co">#here we go</span></a>
<a class="sourceLine" id="cb8-55" title="55"><span class="kw">def</span> known(words): </a>
<a class="sourceLine" id="cb8-56" title="56"><span class="co">#oh, known(words) are alternative words we know in the WORDS</span></a>
<a class="sourceLine" id="cb8-57" title="57"><span class="co">#thing above we generated opening the big txt file.</span></a>
<a class="sourceLine" id="cb8-58" title="58">    <span class="co">&quot;The subset of `words` that appear in the dictionary of WORDS.&quot;</span></a>
<a class="sourceLine" id="cb8-59" title="59">    <span class="cf">return</span> <span class="bu">set</span>(w <span class="cf">for</span> w <span class="kw">in</span> words <span class="cf">if</span> w <span class="kw">in</span> WORDS)</a>
<a class="sourceLine" id="cb8-60" title="60"></a>
<a class="sourceLine" id="cb8-61" title="61"><span class="co">#we are returning a set probably (set)</span></a>
<a class="sourceLine" id="cb8-62" title="62"><span class="co">#the parenthesis looks scary but reads like English:</span></a>
<a class="sourceLine" id="cb8-63" title="63"><span class="co">#we get a set of w, for (each) w in words (i.e. the thing we</span></a>
<a class="sourceLine" id="cb8-64" title="64"><span class="co">#created with findall if the w is also in capitalized WORDS)</span></a></code></pre></div>
<p>Cool! We were able to learn a lot and the program was far from an easy ‘Hello World’ program. Give yourself a pat on the back.</p>
<p>The program has two further “defs” and that’s it. <strong>Edits1(word)</strong> looks scary, but it says to us that it includes “All edits that are one edit away from ‘word’”. (<em>Spoiler</em>: that is called a <strong>docstring</strong> in Python-jargon). <strong>Edits2</strong> iterates the concept (two edits away) and then has another funny parenthesis.</p>
<p>Here’s the missing code. Try to read it.</p>
<p><em>Crash impact with Python (pt. 2) - Ch. 5.2</em></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">def</span> edits1(word):</a>
<a class="sourceLine" id="cb9-2" title="2">    <span class="co">&quot;All edits that are one edit away from `word`.&quot;</span></a>
<a class="sourceLine" id="cb9-3" title="3">    letters    <span class="op">=</span> <span class="st">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span></a>
<a class="sourceLine" id="cb9-4" title="4">    splits     <span class="op">=</span> [(word[:i], word[i:])    <span class="op">\</span></a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(word) <span class="op">+</span> <span class="dv">1</span>)]</a>
<a class="sourceLine" id="cb9-6" title="6">    deletes    <span class="op">=</span> [L <span class="op">+</span> R[<span class="dv">1</span>:]               <span class="op">\</span></a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="cf">for</span> L, R <span class="kw">in</span> splits <span class="cf">if</span> R]</a>
<a class="sourceLine" id="cb9-8" title="8">    transposes <span class="op">=</span> [L <span class="op">+</span> R[<span class="dv">1</span>] <span class="op">+</span> R[<span class="dv">0</span>] <span class="op">+</span> R[<span class="dv">2</span>:] <span class="op">\</span></a>
<a class="sourceLine" id="cb9-9" title="9">    <span class="cf">for</span> L, R <span class="kw">in</span> splits <span class="cf">if</span> <span class="bu">len</span>(R)<span class="op">&gt;</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb9-10" title="10">    replaces   <span class="op">=</span> [L <span class="op">+</span> c <span class="op">+</span> R[<span class="dv">1</span>:]           <span class="op">\</span></a>
<a class="sourceLine" id="cb9-11" title="11">    <span class="cf">for</span> L, R <span class="kw">in</span> splits <span class="cf">if</span> R <span class="cf">for</span> c <span class="kw">in</span> letters]</a>
<a class="sourceLine" id="cb9-12" title="12">    inserts    <span class="op">=</span> [L <span class="op">+</span> c <span class="op">+</span> R               <span class="op">\</span></a>
<a class="sourceLine" id="cb9-13" title="13">    <span class="cf">for</span> L, R <span class="kw">in</span> splits <span class="cf">for</span> c <span class="kw">in</span> letters]</a>
<a class="sourceLine" id="cb9-14" title="14">    <span class="cf">return</span> <span class="bu">set</span>(deletes <span class="op">+</span> transposes <span class="op">+</span> replaces <span class="op">+</span> inserts)</a>
<a class="sourceLine" id="cb9-15" title="15"></a>
<a class="sourceLine" id="cb9-16" title="16"><span class="kw">def</span> edits2(word): </a>
<a class="sourceLine" id="cb9-17" title="17">    <span class="co">&quot;All edits that are two edits away from `word`.&quot;</span></a>
<a class="sourceLine" id="cb9-18" title="18">    <span class="cf">return</span> (e2 <span class="cf">for</span> e1 <span class="kw">in</span> edits1(word) <span class="cf">for</span> e2 <span class="kw">in</span> edits1(e1))</a></code></pre></div>
<p>Ok, we haven’t even started with the rules of Python syntax and we were <em>already</em> able to grasp quite a lot of a far from obvious program. There’s a reason why Python is sometimes referred to as “pseudo-code that actually runs”.</p>
<p>If you are curious about what the program was, that was Peter Norvig’s spell checker. Here’s the full code and explanation: <a href="https://norvig.com/spell-correct.html" class="uri">https://norvig.com/spell-correct.html</a>. Feel free to have a look.<a href="#fn32" class="footnote-ref" id="fnref32"><sup>32</sup></a></p>
<p>“That’s a nice example!”, you find yourself thinking. Ok, it was non-obvious but it resonates. “It seems people at <em>HumanDemia</em> want me to critically reflect on the tools I use in my daily work at quite a different level,” you think. Next time RStudio doesn’t catch a typo we will be able to reason about it from a different perspective.</p>
<p>Oh, if this little program about spell checking is making you feel uncomfortable, fear not. We are not going to do “crazy math” or “AI stuff”. This little experiment is meant to show that the “gap” (if any) between Humanities and programming is way thinner than you thought. You were able to read code that does something useful like checking spelling and suggesting what you intended to write but spelt wrong.
That’s something amazing.</p>
<p>Yes, there were some obscure things. (If you fancy spoilers: ‘<strong>re</strong>’ is a module to use <em>regular expressions</em>. For now, think of them as detective search tools. Regular expressions are the cause of the <strong>r’\w+</strong> which scream insiders’ jargon.</p>
<p>Also, the “funny parentheses” are <em>comprehensions</em> which are one of Python unique features we are going to see in a while.)</p>
<p>Last thing. Mentioning Norvig and his book is no accident. Try to read some code examples from the book (same author: Norvig, but a different language: LISP). Here’s one example: <a href="https://github.com/norvig/paip-lisp/blob/master/lisp/compile1.lisp" class="uri">https://github.com/norvig/paip-lisp/blob/master/lisp/compile1.lisp</a>. It looks less easy, at least).</p>
<p>Ok, fear not and move on! Let’s learn more about Python.</p>
<p><strong>Section Credits</strong></p>
<p>This experiment was inspired by a similar “dive into the language without knowing it” you can find in the <em>Head First Java</em> book by Bert Bates and Kathy Sierra.</p>
</div>
<div id="python-in-general-a-readable-design" class="section level2">
<h2><span class="header-section-number">5.2</span> Python in General: A Readable Design</h2>
<p>As you have already seen, Python is easy to read. It is “almost like English” and it is not <em>that</em> intimidating. In fact, you can probably type most of the code you’ve seen. There were no ‘{’ or ‘}’ or other signs you need to struggle and figure out how to type. From that point of view LaTeX, is harder than Python and also HTML has a lot of opening and closing tags.</p>
<p>Coding-wise, it is often said that “code is most often read than run”, Python builds on this. In other languages weird signs (like { and }) or end of the line signs (like ‘;’) are used to delimit the end of a line or an instruction.</p>
<p>Python <em>uses space and formatting</em> to achieve that. This should be something friendly for academics. This also means that <em>space matters</em>. This leads to specific code-formatting strategies you need to care about.</p>
<p>When you indent code you are delimiting block of codes. The standard practice is to use 4 spaces for the first level. Add four more to the second level, etc. If you use TABs, they can mess out your code.</p>
<p>If you are using an editor, as Spyder, you can configure it so that tabs equals four spaces. Feel free to spend some time in Spyder exploring preferences in the tools.</p>
<p>“Ok,” you think checking the first box “these <em>HumanDemia</em> practical programming stuff is not that complex”.</p>
<p>To really have a grasp of how code is displayed and what’s <em>Python standard coding practice</em> check out PEP 8 (<a href="https://www.python.org/dev/peps/pep-0008/" class="uri">https://www.python.org/dev/peps/pep-0008/</a>). PEP means Python Enhancement Proposal are official pieces of documentations guiding Python developers community and/or presenting new language features.</p>
<p>If you come from academia there are chances you may <em>overestimate</em> the ‘official’. Go and read the document. The tone is informal but on point. It shows good and bad examples with code. You are reading commented Python code and absorbing does and don’ts.</p>
<p>Now that we know something about how parts are divided, let’s have a look at the general structure of a Python program.</p>
</div>
<div id="general-structure-of-a-python-program" class="section level2">
<h2><span class="header-section-number">5.3</span> General Structure of a Python Program</h2>
<p>A Python program has a general structure that goes like this most of the times:</p>
<ol style="list-style-type: decimal">
<li>entry line that starts with ‘<strong>#!</strong>’ this is called <em>shebang</em> or <em>hashbang.</em> This message is there for your shell and tells it how to use the program. If you see this in the first programs you read, that’s likely to be mysterious;</li>
<li>lines of comments (single comments with #, multiline comments between """ comment here """). These contain a license - if it’s not provided elsewhere in the files of the whole application - or an overview of what your program does. Now comes the most common lines;</li>
<li><strong>import lines</strong>. Python is cool and has a lot of batteries included or extra batteries. You call what you need with the ‘import’ function. This were the starting lines of Norvig’s spellchecker importing the <strong>re</strong> module and <strong>Counter</strong>;</li>
<li>the instructions of the program. Functions, classes, etc. Norvig’s speller was all about def(), i.e. function;</li>
<li>a ‘main’ routine, i.e. what you want your program to do using your functions. Think about the main call as a recipe;</li>
<li>a way to call the recipe, i.e. the main() function that goes like this:</li>
</ol>
<p><em>Main call</em></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" title="1"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</a>
<a class="sourceLine" id="cb10-2" title="2">    main()</a></code></pre></div>
<p>This last line also allows a Python program to check if it is run from the command line or it is imported by a Python program as a module (i.e. with the ‘import’ command list in (3)). Also, this line shows a way in which Python does look <em>programmy</em>: the use of underscores is peculiar and important for the language. In Python the double underscore pattern is referred to as <strong>dunder</strong> (i.e. <em>do</em>uble <em>under</em>score).</p>
<p>The list is by no means compulsory. What matters to us now are 3 and 4. Should you go around checking programs on GitHub or reading tutorials, you have an idea of the general picture.</p>
<p>On Github and Jupyter notebooks you won’t see many shebangs. The same holds for licenses.</p>
<p>Now that we have a general outline of a Python program we can explore importing and writing the main instructions. This allows us to get deeper also in the puzzling main-name line.</p>
</div>
<div id="import-load-all-the-tools-you-need" class="section level2">
<h2><span class="header-section-number">5.4</span> Import: Load all the Tools you Need</h2>
<p>Before you start building something you need to have all the tools at your disposal. Coding is no different. Once you have installed your tools and chosen and IDE or text editor, it’s time to pick the right tools to construct the logical architecture of our program. The first lines are there to import our tools of the craft.</p>
<p>We import modules. Modules are code containers that have some code we need. Go back again to Norvig’s program. We need to count words. There is no need for us to code a device to count things inside a certain collection: we can import ‘Counter’ from a specific module called ‘collections’.</p>
<p>The syntax for the import is quite simple, I’ll show it directly in code with examples.</p>
<p><em>Import syntax</em></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># importing a whole module: </span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co"># import [module&#39;s name]</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="im">import</span> os <span class="co">#os handles operative systems tasks, file handling</span></a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">#importing something specific from a module:</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co"># from [module] import [something]</span></a>
<a class="sourceLine" id="cb11-7" title="7"></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="im">from</span> collections <span class="im">import</span> Counter</a>
<a class="sourceLine" id="cb11-9" title="9"><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup <span class="co">#a parsing library</span></a>
<a class="sourceLine" id="cb11-10" title="10"></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="co">#importing something with aliases, to save on typing</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="co">#or avoid conflicts with name</span></a>
<a class="sourceLine" id="cb11-13" title="13"></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co"># import [something] as [alias]</span></a>
<a class="sourceLine" id="cb11-15" title="15"></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="im">import</span> pandas <span class="im">as</span> pd <span class="co">#data processing library</span></a></code></pre></div>
<p>To use a module you’ve imported you need to have it installed. If that’s not the case you’ll receive an error message. The compiler tells you that the module can’t be found.</p>
<p>To install a library you <strong>conda install</strong> it from the Anaconda prompt (or you <strong>pip install</strong> from a windows shell - this was already covered in chapter <a href="ch4.html#ch4">4</a>.)</p>
<p><strong>Beware</strong>: sometimes you may receive errors like “module X is not installed” when you <em>know for sure</em> you conda installed it. What happens is probably that you are working with virtual environments and:</p>
<ol style="list-style-type: decimal">
<li>you are working in the wrong virtual environment;</li>
<li>you are in the correct environment with all the relevant modules but you haven’t activated it.</li>
</ol>
<p>“How do I know which library does what?” I hear you crying. Short answer is “experience”. Practically, you can start learning Python’s standard library. The standard library has a bunch of core functionalities.</p>
<p>Before looking outside the standard library you can look into it. Do you remember when we talked about the importance of reading the docs? That was one of the reasons. Anyway, at the end of the chapter you can find a list of commonly used libraries, both standard and non-standard.</p>
<p>We still have to deal with <em>importing your Python programs</em> but we need to know more about Python to do that.</p>
</div>
<div id="functions-let-your-program-do-something-for-you" class="section level2">
<h2><span class="header-section-number">5.5</span> Functions: Let your Program Do Something for You</h2>
<p>Ok, let’s start coding. Open Spyder and reach IPython. We follow the cliché of “Hello world” programs. Machines are nice and they always cheer you.</p>
<p>So, go in IPython and type:</p>
<p><em>Hello world - ch. 5.3</em></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb12-1" title="1"><span class="bu">print</span>(<span class="st">&quot;Hello world!&quot;</span>)</a></code></pre></div>
<p>Imagine what happens and see the results. I guess everything goes as predicted.</p>
<p>Now move to the next step by <em>messing around</em>. Try removing some ‘(’ or adding ‘;’. Remove quotations or change them to a single quotation. Keep experimenting in IPython so that you don’t have to run the whole program to just see the results of a single instruction.</p>
<p>Ok, now think about writing “hello world” as function. Instead of printing “hello world” via a direct print we call a function that will do the printing. Our previous experiment already gave us the syntax: it’s <strong>def</strong> keyword. And don’t forget the colon.</p>
<p>The file 5.3 of hello worlds have that version. The main call is missing, try to add it. Also, can you write a function that says ‘Hi!’ to the name we pass to it? (Think about the Edit1(word) functions…).</p>
<p>Cool. Ok, now for something different. Search for the documentation of Python’s print function. Folks at <em>HumanDemia</em> expect you to be quick at that.</p>
<p>Reading the docs is a skill you have to learn, like reading a paper or giving a talk. Start using the info in the docs to get a grasp of some of the errors you have received while experimenting. (Bonus points for searching informations about the error Tracebacks.)</p>
<p>Ok, the print function is pretty boring and, most of the time, you are going to define your own functions. Actually, the print <em>function</em> is historically controversial for Python and printing to screen is far from that easy and boring in other languages… but coming from Humanities you are <em>already</em> good at history and comparative stuff. Let’s go back to functions.</p>
<p>Functions take zero or more argument(s) and are defined with the following syntax:</p>
<ol style="list-style-type: decimal">
<li><strong>def</strong> keyword: tells Python you are defying a function;</li>
<li>name of the function;</li>
<li>(): contains the arguments of the function, if empty it means there’s none;</li>
<li>‘:’ tells Python the function starts;</li>
<li>newline;</li>
<li>indent (4 spaces);</li>
<li>instructions of the function (could be more than one line);</li>
<li><strong>return</strong> keyword: tell the function what to return;</li>
<li>content to be returned.</li>
</ol>
<p>The last two items are optional. Think about a function. You’ve seen one before in disguise.</p>
<p>Here’s function example:</p>
<p><em>A badly named function</em></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">def</span> main():</a>
<a class="sourceLine" id="cb13-2" title="2">    <span class="bu">print</span>(<span class="st">&#39;Hello world&#39;</span>)</a></code></pre></div>
<p>(Can you rename the ‘main’ function in a better way?)</p>
<p>If you press enter in IPython or run the program in the IDE (shortcut to run the program F5, of CTRL + ENTER if you have created a code cell, i.e. have a line that goes like that: # %%) nothing happens.</p>
<p>To have your function running, you need to <em>call it</em> (think Blondie). To call a function, you call its name and its arguments (here, none). Hence to receive: ‘Hello World’ you need to call main().</p>
<p>Like this:</p>
<p><em>Calling a better named function</em></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb14-1" title="1"><span class="co">#define the function</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">def</span> say_hello():</a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="bu">print</span>(<span class="st">&#39;Hello world&#39;</span>)</a>
<a class="sourceLine" id="cb14-4" title="4"></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co">#calling the function    </span></a>
<a class="sourceLine" id="cb14-6" title="6">say_hello()</a></code></pre></div>
<p>If you now call main() you are going to execute its content. In this case the content is a print statement.</p>
<p>Let’s see a function with some argument and a return statement. This function includes <strong>docstrings</strong>, contents between triple quotes that describe what a function does. We have seen them already in Norvig’s code.</p>
<p>(Docstrings have their own PEP, number 257 - <a href="https://www.python.org/dev/peps/pep-0257/" class="uri">https://www.python.org/dev/peps/pep-0257/</a>. If you read PEP 8, you’ll see they are referenced there. Also, by including docstrings into a function (or method, class, module) we are populating the dunder doc of that object.<a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a>)</p>
<p><em>Proper named function with docstrings and return - ch. 5.4</em></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb15-1" title="1"><span class="co">#function example with one argument and return</span></a>
<a class="sourceLine" id="cb15-2" title="2"></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="kw">def</span> capitalize(word):</a>
<a class="sourceLine" id="cb15-4" title="4">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">    The function takes a word in and it</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">    returns you the word, but capitalized.</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb15-8" title="8">    <span class="co"># that above is a docstring. It tells what a function does and </span></a>
<a class="sourceLine" id="cb15-9" title="9">    <span class="co"># can be used to document our code</span></a>
<a class="sourceLine" id="cb15-10" title="10">    <span class="co"># Norvig&#39;s code had them, only in single string mode &quot;&quot;.</span></a>
<a class="sourceLine" id="cb15-11" title="11">    capitalized_word <span class="op">=</span> word.capitalize()</a>
<a class="sourceLine" id="cb15-12" title="12">    <span class="cf">return</span> capitalized_word</a></code></pre></div>
<p>Copy this function - mind the space - and see what happens if you call <strong>capitalize(‘I want this bigger’)</strong>? Again, play around with the stuff. What happens if you pass an argument without quotes? What if you pass more arguments?</p>
<p>The function above introduced us to <em>docstrings</em>. Docstrings are pieces of text written to tell users about what certain pieces of code do. They are enclosed between triple double quotes, as we know already. A docstring is ignored by the compiler, so you can use it as a multiline comment as well.<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a> (The next chapter will show you more about docstrings and documentation.)</p>
<p>The function above also makes use of a <strong>method</strong>, i.e. the <strong>.capitalize()</strong> part of the program. There’s quite a lot to be done with functions, but that already allows us to do some work.</p>
<p>Beside that, before moving on with more complex functions, we need more LEGO pieces to play with.</p>
</div>
<div id="data-structure-everything-has-its-natural-place" class="section level2">
<h2><span class="header-section-number">5.6</span> Data Structure: Everything Has its Natural Place</h2>
<p>Python is a general purpose programming language. You can build a spell checker on it or a website, perform mathematical computations or use Python to visualize data. There’s a lot you can do with it.</p>
<p>To do all these different things, you have to cleverly use different data structures. ‘Data structures’ are exactly what you expect: ways to store and contain data. Different types of data require different data structures.</p>
<p>Data structures differ not only for the kind of data they have as the section’s title suggests. It is fairly easy to expect that we have a way to store text data and a way to store numbers…</p>
<p>…Well, <em>of course</em> you can spot corner cases: we are from creative Humanities, we ask the questions about possibilities. What about the number ‘pi’ (of pi-day)? What about ‘She scored 98% at the test’? And is ‘A’ in ‘We got A for our team assignment’ a word or a number?</p>
<p>When dealing with data structures we have to care at least about three (plus one) things:</p>
<ol style="list-style-type: decimal">
<li><em>the kind of data they can store</em>: if we put text in number-containers we are going to get into troubles;</li>
<li><em>the methods and functions associated with that data type</em>: we can do different things with different data types. (We’ll find out in a while.) For example, we expect to be able to divide two (or more) numbers, but dividing pieces of texts sounds bad;</li>
<li><em>the kind of data structure we are dealing with</em>: data structure can be mutable or immutable, for example. Suppose you want to check the number of emails you receive during the day. You find a way to access your inbox every ten minutes and download the number of incoming emails and update your counter. If your counter is an immutable data type you are going to have no update whatsoever after the first data retrieval or an error saying “hey, can’t update or modify a data structure that is immutable”;</li>
<li>(actually +1) <em>how the data type is implemented</em>: if you care about performance - and sooner or later you may have to worry about that - it is important to know how your data structures are implemented. This looks tricky (that’s why it’s +1) and is due to the fact that there are different programming languages that can be faster or slower at executing the same task. Python, as you may find out, is not that fast. Still nothing forbids you to use Python to build complex tools and calculations that use faster programming languages or implementation to achieve better performances. That’s the case with <strong>numpy</strong> the library that powers most of the scientific Python libraries offering faster implementation for arrays (and more).</li>
</ol>
<p>There’s no need to know all the internals of data structures (at least for now). But it’s good to know a little bit of them, just so that we are not going to cry when things do not go as <em>we</em> expected because we provided the wrong datatypes to our functions. (Guess what tells you what kind of data a function expects and what it returns? Yes, the docs!)</p>
<p>With that said, we are going to cover a little bit of data structures, their methods and how to access the elements we put into a data structure.</p>
<div id="string-literals" class="section level3">
<h3><span class="header-section-number">5.6.1</span> String Literals</h3>
<p><em>Strings store text</em>. You’ve probably guessed that. And you know we’ve used strings already when we’ve printed “Hello world!”. To tell Python that there is a string, we need to include the content of the string between quotations, either single ‘string here’ or double “string here”.</p>
<p>We can easily assign strings to a variable: to assign something to a variable we use the ‘=’ sign. The ‘=’ sign does not mean that X equals “Hello, there”, but rather that “Hello, there” (the angel from my nightmare) is assigned to X.</p>
<p>If it helps, read the ‘=’ statement <strong>right to left</strong>: what comes to the <em>right</em> is assigned to what’s on the <em>left</em>. To say that something is equal to something else, like ‘2+2 equals 5’ we have to use the ‘=’ sign twice, so ‘2+2 == 5’.</p>
<p>A useful formula to remember that difference is that <strong>assigning is not equality</strong>.</p>
<p>The syntax for strings goes as follows:</p>
<p><em>String syntax</em></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb16-1" title="1"><span class="co">#string creation with single quote</span></a>
<a class="sourceLine" id="cb16-2" title="2">variable <span class="op">=</span> <span class="st">&#39;content of the string&#39;</span></a>
<a class="sourceLine" id="cb16-3" title="3"></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="co">#string creation with double quotes</span></a>
<a class="sourceLine" id="cb16-5" title="5">variable2 <span class="op">=</span> <span class="st">&quot;content of the string&quot;</span></a>
<a class="sourceLine" id="cb16-6" title="6"></a>
<a class="sourceLine" id="cb16-7" title="7"><span class="co">#you can add numbers to strings, if you want</span></a>
<a class="sourceLine" id="cb16-8" title="8">variable3 <span class="op">=</span> <span class="st">&quot;3&quot;</span> <span class="co">#a number as a string</span></a>
<a class="sourceLine" id="cb16-9" title="9"></a>
<a class="sourceLine" id="cb16-10" title="10"><span class="co"># do you think that &#39; &quot;3&quot; == 3 &#39; is a True statement? </span></a>
<a class="sourceLine" id="cb16-11" title="11"></a>
<a class="sourceLine" id="cb16-12" title="12"><span class="co">#string can continue on two lines</span></a>
<a class="sourceLine" id="cb16-13" title="13">stringvar <span class="op">=</span> <span class="st">&quot;this strings goes on to another \</span></a>
<a class="sourceLine" id="cb16-14" title="14"><span class="st">    line&quot;</span> <span class="co">#the \ does the trick but beware not</span></a>
<a class="sourceLine" id="cb16-15" title="15">    <span class="co">#to include further code after it</span></a>
<a class="sourceLine" id="cb16-16" title="16">    </a>
<a class="sourceLine" id="cb16-17" title="17"><span class="co">#another way to continue strings, using brackets</span></a>
<a class="sourceLine" id="cb16-18" title="18">stringvar <span class="op">=</span> (</a>
<a class="sourceLine" id="cb16-19" title="19">    <span class="st">&quot;first part of the string goes there&quot;</span></a>
<a class="sourceLine" id="cb16-20" title="20">    <span class="st">&quot;and that is the second part &quot;</span></a>
<a class="sourceLine" id="cb16-21" title="21">    )</a></code></pre></div>
<p>There’s an important thing to notice. To produce strings we are using ’, which is a character we are going to use, for example, if we say “Hi! I’m fine, and you?”.</p>
<p>How do we tell our machine friend that some characters are used in the text and some are used to create strings?</p>
<p>Welcome to <strong>escape characters</strong>. If we are using something that is a reserved item of a programming language, as ’ here, and you want to use it with its non-reserved meaning, you have to escape it.
To escape a character you have to add the <em>escape character</em> of your programming language, which for Python is ‘\’ (as for RStudio).</p>
<p>When you prompt the user to give you pieces of information and inputs you get them as strings. Remember that, because sometimes you are asking for numbers and you get them as string inputs. (See above the questions on string number three being equal to number 3.)</p>
<p>Open an IPython session and write what follows (to ask for inputs we use <strong>input</strong> keyword):</p>
<p><em>Asking the user for input</em></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb17-1" title="1">fav_number <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;What is your favourite number?&#39;</span>)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="bu">print</span>(fav_number)</a></code></pre></div>
<p>Use IPython to <em>check the datatype of fav_number</em>, i.e. use the function <strong>type()</strong> on fav_number. You’ll see it is a string. It is easy to convert a string to an integer (there’s more than one data type for numbers): use <strong>int()</strong>.
(To go have something converted to a string, use <strong>str()</strong>.)</p>
<p>Ok, re-read the paragraph above and come out with some exercise or conversion scenario to put this into practice. Operating a calendar may require conversions: you enter numbers for the dates as inputs.<a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a></p>
<p>If you have a register of mid-term assignments and students you may have numbers (for deadline and, depending on the scoring system, grades) and strings (student names). Additionally, you may have students’ IDs and course names.</p>
<p>Ok…
There’s quite a lot we can do with strings:</p>
<ul>
<li>we can concatenate two or more strings with the plus (+) sign.</li>
</ul>
<p><em>Strings concatenation examples</em></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb18-1" title="1"><span class="co">#concatenation example</span></a>
<a class="sourceLine" id="cb18-2" title="2">name <span class="op">=</span> <span class="st">&#39;John&#39;</span></a>
<a class="sourceLine" id="cb18-3" title="3">surname <span class="op">=</span> <span class="st">&#39;Snow&#39;</span></a>
<a class="sourceLine" id="cb18-4" title="4">fullid <span class="op">=</span> name <span class="op">+</span> surname</a>
<a class="sourceLine" id="cb18-5" title="5"><span class="bu">print</span>(fullid)</a>
<a class="sourceLine" id="cb18-6" title="6"></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="co">#concatenation with space</span></a>
<a class="sourceLine" id="cb18-8" title="8">full_space_id <span class="op">=</span> name <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> surname <span class="co"># &#39; &#39; is the space</span></a>
<a class="sourceLine" id="cb18-9" title="9"><span class="bu">print</span>(full_space_id)</a>
<a class="sourceLine" id="cb18-10" title="10"></a>
<a class="sourceLine" id="cb18-11" title="11"><span class="co">#concatenation with newline</span></a>
<a class="sourceLine" id="cb18-12" title="12">full_linespace_name <span class="op">=</span> name <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st"> &#39;</span> <span class="op">+</span> surname <span class="co"># \n is for nl</span></a>
<a class="sourceLine" id="cb18-13" title="13"><span class="bu">print</span>(full_linespace_name)</a></code></pre></div>
<ul>
<li>we can slice our string, i.e. select a part of it. To do that we use square brackets to include the indexes we want to slice, separated by a column.</li>
</ul>
<p>That’s the formula:</p>
<p><strong>string[slice_begin:slice_end]</strong></p>
<p>The first index is <em>included</em>, the last <em>is not</em>.
To apply the formula you need to know that a string first letter has <strong>index 0</strong>, not 1. Get used to that. (The reason for that is that strings are arrays of characters and arrays in Python are 0-indexed.)</p>
<p>Also, you can have negative indexes like -1. Negative indexes are counted <strong>from the end</strong> of the string, so -1 indicates the <em>last</em> letter of the string.</p>
<p>Ok, let’s get practicing:</p>
<p><em>String slicing examples</em></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb19-1" title="1">test_string <span class="op">=</span> <span class="st">&quot;A quite long string for practice&quot;</span></a>
<a class="sourceLine" id="cb19-2" title="2"></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="co">#If you want A:</span></a>
<a class="sourceLine" id="cb19-4" title="4">test_string[<span class="dv">0</span>:<span class="dv">1</span>] <span class="co">#from zero included to one excluded</span></a>
<a class="sourceLine" id="cb19-5" title="5"></a>
<a class="sourceLine" id="cb19-6" title="6"><span class="co">#If you want &#39;practice&#39;:</span></a>
<a class="sourceLine" id="cb19-7" title="7">test_string[<span class="op">-</span><span class="dv">9</span>:<span class="op">-</span><span class="dv">1</span>] <span class="co">#(we count from the end, and  move backward)</span></a>
<a class="sourceLine" id="cb19-8" title="8"></a>
<a class="sourceLine" id="cb19-9" title="9"><span class="co">#If you want &#39;quite&#39;:</span></a>
<a class="sourceLine" id="cb19-10" title="10">test_string[<span class="dv">2</span>:<span class="dv">7</span>].</a>
<a class="sourceLine" id="cb19-11" title="11"></a>
<a class="sourceLine" id="cb19-12" title="12"><span class="co">#Remember spaces are included in the count.</span></a>
<a class="sourceLine" id="cb19-13" title="13"><span class="co">#The first space is</span></a>
<a class="sourceLine" id="cb19-14" title="14">test_string[<span class="dv">1</span>:<span class="dv">2</span>]</a></code></pre></div>
<p>You can also access single letters: just point the place the latter occupies between square brackets. Remember it’s zero indexed. (So, in the above example ‘A’ is test_string[0]).</p>
<p>Strings have a variety of methods. Methods are functions you can call on certain objects, like strings in this case. To access methods we use something called ‘<strong>dot notation</strong>’ (or dot-syntax). Dot-syntax is common to different data structures.</p>
<p>In some abstract form the idea is that we first specify the object we want to deal with, like a string. Then, after a dot we invoke the method (that gets applied to the object that comes before the dot). So:</p>
<p><strong>object that has a certain method</strong> + <strong>. (dot)</strong> + <strong>method name()</strong>.</p>
<p>(This is different from <em>functions</em> in which the object we want the function to be applied to is provided <em>inside</em> the brackets. Go and review the previous ‘capitalized’ function to see a combination of functions and methods.)</p>
<p>Here’s a more verbose take on dot notation. To access the methods you take the name of your object, add a . and then call the method. The method is a function, so it has a couple of brackets () at the end that are empty if the function takes no parameter but may have them. For example the <strong>.replace</strong> method takes two parameters: first what you want to replace and then what you want to replace it with. So string.replace(“C”, “D”) will chance all capitalized Cs in the string with capitalized Ds.</p>
<p>Ok, let’s provide some examples. Suppose you want a function to shout on webchat, hence it will return all caps.</p>
<p>We know how to define functions. Let’s build this up with comments:</p>
<p><em>Shouting objects with dot notation</em></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">def</span> shout(phrase): <span class="co">#phrase is going to be a string</span></a>
<a class="sourceLine" id="cb20-2" title="2">   <span class="cf">return</span> <span class="co">#here we call the string method to capitalize</span></a>
<a class="sourceLine" id="cb20-3" title="3"></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="co">#capitalize test, make sure we can capitalize</span></a>
<a class="sourceLine" id="cb20-5" title="5">test <span class="op">=</span> <span class="st">&quot;Be all capitals&quot;</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="bu">print</span>(test.upper()) <span class="co">#.upper() is the all caps method</span></a>
<a class="sourceLine" id="cb20-7" title="7"></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="co">#get back to the function</span></a>
<a class="sourceLine" id="cb20-9" title="9"></a>
<a class="sourceLine" id="cb20-10" title="10"><span class="kw">def</span> shout(phrase):</a>
<a class="sourceLine" id="cb20-11" title="11">    <span class="cf">return</span> phrase.upper() <span class="co">#a return will give it back</span></a>
<a class="sourceLine" id="cb20-12" title="12">    <span class="co">#us the phrase printed</span></a>
<a class="sourceLine" id="cb20-13" title="13"></a>
<a class="sourceLine" id="cb20-14" title="14"><span class="co">#try to shout &#39;Looser!&#39;</span></a>
<a class="sourceLine" id="cb20-15" title="15"></a>
<a class="sourceLine" id="cb20-16" title="16">shout(<span class="st">&#39;Looser!&#39;</span>) <span class="co">#correct</span></a>
<a class="sourceLine" id="cb20-17" title="17"></a>
<a class="sourceLine" id="cb20-18" title="18"><span class="co">#try what happens without passing a string</span></a>
<a class="sourceLine" id="cb20-19" title="19">shout(looser)</a>
<a class="sourceLine" id="cb20-20" title="20"><span class="co">#try also keeping the def</span></a>
<a class="sourceLine" id="cb20-21" title="21">    </a>
<a class="sourceLine" id="cb20-22" title="22"><span class="co">#compare with</span></a>
<a class="sourceLine" id="cb20-23" title="23"></a>
<a class="sourceLine" id="cb20-24" title="24"><span class="kw">def</span> shout_to_be_called(phrase):</a>
<a class="sourceLine" id="cb20-25" title="25">    phrase.upper()</a>
<a class="sourceLine" id="cb20-26" title="26">    </a>
<a class="sourceLine" id="cb20-27" title="27"><span class="co">#what happens if you type in the interpreter</span></a>
<a class="sourceLine" id="cb20-28" title="28"><span class="co">#shout_to_be_called(&#39;Help me please!&#39;)?</span></a>
<a class="sourceLine" id="cb20-29" title="29"><span class="co">#how can you make it appear on the screen?</span></a></code></pre></div>
<p>This simulates a way to work towards a solution. With bigger projects you can automate some tests. For example, if we want to be sure that the upper() method is making everything capitalized we can write a statement checking that the result of shout(‘Loooser!’) equals our expected result, i.e. LOOOSER!.</p>
<p>This can be done with the ‘<strong>assert</strong>’ statement. The docs are here (assert, plus more kinds of Python statements some of which we touched and some we haven’t, at least for now): <a href="https://docs.python.org/3/reference/simple_stmts.html" class="uri">https://docs.python.org/3/reference/simple_stmts.html</a>. If this whole idea of having checks (and balances) and controls in your program - feel free to build an analogy with a constitution or the organization of powers in a State - then testing is for you. And it’s great that you like it.<a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a></p>
<p>There are way more strings methods that do the following:</p>
<ul>
<li><strong>split()</strong> (“specify an element to delimit the splitting”): suppose you have a sentence like “There are two apples” and you want to isolate the words. You are going to split on the space. So: sentence.split(" "). Beware that split returns data as a list (see in a while);</li>
<li><strong>replace()</strong> (“element to be replace”, “replacement”). Suppose you want to change ‘cat’ into ‘mat’. Assuming string = “cat”, you call string.replace(“c”, “m”). Go and experience in the interpreter or IPython;</li>
<li><strong>lower()</strong> (opposite of upper, returns string in lower case).</li>
</ul>
<p>There are many more methods for you to search. It won’t be difficult. Come out with examples for most of the methods you have to be sure you can use them. Then think about how to use them to make something.</p>
<p>One last thing: strings are immutable. You can’t go inside the first letter of</p>
<p>ExampleString = ‘Case’</p>
<p>and assign it to ‘B’ to have ExampleString = ‘Base’.</p>
<p>Try</p>
<p>ExampleString[0] = ‘B’ and see. (Use the replace method to achieve that.<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a>)</p>
<p>Nonetheless, lists, our next data structure <em>are</em> mutable.</p>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">5.6.2</span> Lists</h3>
<p>Lists are widespread data structure. They can hold as many things as you like, of different kinds (you can mix strings, numbers, etc). Oh, list is a reserved word so you can’t name your list ‘list’. We convert something into a list with <strong>list()</strong>, as we did with <strong>str()</strong> or <strong>int()</strong>.</p>
<p>Lists are initialized with square brackets, like this: []. Objects that are in the list are separated by a comma. List can contain lists as objects.</p>
<p><em>List examples</em></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb21-1" title="1">A <span class="op">=</span> [] <span class="co">#is an empty list. </span></a>
<a class="sourceLine" id="cb21-2" title="2">A_list_with_numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb21-3" title="3">MixedList <span class="op">=</span> [<span class="dv">1</span>, <span class="st">&#39;two&#39;</span>, <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb21-4" title="4">TextToString <span class="op">=</span> [<span class="st">&quot;once&quot;</span>, <span class="st">&quot;opon a time&quot;</span>, <span class="st">&quot;there&quot;</span>, <span class="st">&quot;was&quot;</span>, <span class="st">&quot;a verb&quot;</span>]</a>
<a class="sourceLine" id="cb21-5" title="5">NestList <span class="op">=</span> [<span class="st">&quot;This list&quot;</span>, [<span class="st">&quot;has a nested list&quot;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="op">\</span></a>
<a class="sourceLine" id="cb21-6" title="6">    <span class="st">&quot;that contains 3 numbers&quot;</span>]</a></code></pre></div>
<p>The array-like syntax to access letters of a string is valid for strings as well, but this time you are going to access the <strong>item</strong> in that place.</p>
<p><em>Accessing list items</em></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb22-1" title="1">A_list_with_numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb22-2" title="2"><span class="bu">print</span>(A_list_with_numbers[<span class="dv">0</span>]) <span class="co">#prints 1</span></a>
<a class="sourceLine" id="cb22-3" title="3"></a>
<a class="sourceLine" id="cb22-4" title="4">TextToString <span class="op">=</span> [<span class="st">&quot;once&quot;</span>, <span class="st">&quot;upon a time&quot;</span>, <span class="st">&quot;there&quot;</span>, <span class="st">&quot;was&quot;</span>, <span class="st">&quot;a verb&quot;</span>]</a>
<a class="sourceLine" id="cb22-5" title="5"><span class="bu">print</span>(TextToString[<span class="dv">1</span>]) <span class="co">#prints &quot;upon a time&quot;</span></a></code></pre></div>
<p>List are mutable, i.e. you can use array-like indexing list[index] to change the list.</p>
<p><em>Changing items in a list</em></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb23-1" title="1">chage_2_to_3 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb23-2" title="2"><span class="bu">print</span>(chage_2_to_3) <span class="co">#prints [1, 2, 4, 5]</span></a>
<a class="sourceLine" id="cb23-3" title="3"></a>
<a class="sourceLine" id="cb23-4" title="4">chage_2_to_3[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">3</span> <span class="co">#remember: zero-indexed!</span></a>
<a class="sourceLine" id="cb23-5" title="5"><span class="bu">print</span>(chage_2_to_3) <span class="co">#prints [1, 3, 4, 5]</span></a></code></pre></div>
<p>Most of the time we use list to store things we need.</p>
<p>Suppose we have a list of words and we want to select those that are longer than 3 characters. To evaluate the length of something we use <strong>len()</strong>. Depending on the objects it will tell us different things: items in a list, characters in a string, etc.</p>
<p>To add an item to the list we need to call:</p>
<p><strong>name_of_the_list.append(name_of_appened_it)</strong>.</p>
<p>Yes, that’s a list method. And, yes, it uses dot-syntax.</p>
<p>To check if an item is longer than 3 characters we have to check:</p>
<p><em>Conditional statement with a deliberate error (spot it)</em></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb24-1" title="1"><span class="cf">if</span> <span class="bu">len</span>(item) <span class="op">&gt;</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb24-2" title="2">    result_list.append(item) <span class="co">#here we add the item to</span></a>
<a class="sourceLine" id="cb24-3" title="3">    <span class="co">#a list called result_list</span></a></code></pre></div>
<p>If you try to run this code it will throw you an error. Can you guess why?</p>
<p>Read it again.</p>
<p>Yes, the list.</p>
<p>Python has no idea what this result_list is. It was never mentioned.</p>
<p>Try to fix the code and tell it that there is a list called result_list.</p>
<p>If you are stuck after writing ‘result_list =’ remember we need to tell Python it’s a list. “But what’s in there?” you ask… Well, nothing, <em>for now</em>. So you <em>initialize it as an empty list</em> with two square brackets.</p>
<p>Before giving you the whole code I’ll mention briefly how to go through the items of a list, anticipating a bit of <em>flow control</em> (we did that already mentioning the if statement… you see? there’s nothing complex in isolation. Issues arise combining our LEGO programming blocks into something bigger).</p>
<p>Basically you want this to happen. <strong>For</strong> every item in the list, <em>do</em> something. English guides Python syntax: we need a for loop. Here’s the whole program.</p>
<p><em>Iterating a list with a for loop, printing items bigger than 3 - Ch 5.5</em></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb25-1" title="1"><span class="co">#the list we want to test</span></a>
<a class="sourceLine" id="cb25-2" title="2">test_list <span class="op">=</span> [<span class="st">&#39;no&#39;</span>, <span class="st">&#39;yesss&#39;</span>, <span class="st">&#39;tooshort&#39;</span>, <span class="st">&#39;arg&#39;</span>, <span class="st">&#39;nop&#39;</span>, <span class="st">&#39;nope&#39;</span>]</a>
<a class="sourceLine" id="cb25-3" title="3"><span class="co">#initialize the result list</span></a>
<a class="sourceLine" id="cb25-4" title="4">result_list <span class="op">=</span> [] <span class="co">#[] empty list</span></a>
<a class="sourceLine" id="cb25-5" title="5"></a>
<a class="sourceLine" id="cb25-6" title="6"><span class="co">#start iteration on the test_list</span></a>
<a class="sourceLine" id="cb25-7" title="7"><span class="cf">for</span> item <span class="kw">in</span> test_list: <span class="co">#item is conventional. Use what you like.</span></a>
<a class="sourceLine" id="cb25-8" title="8"><span class="co">#check the item</span></a>
<a class="sourceLine" id="cb25-9" title="9">    <span class="cf">if</span> <span class="bu">len</span>(item) <span class="op">&gt;</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb25-10" title="10">        result_list.append(item)</a>
<a class="sourceLine" id="cb25-11" title="11"></a>
<a class="sourceLine" id="cb25-12" title="12"><span class="bu">print</span>(result_list)    </a>
<a class="sourceLine" id="cb25-13" title="13"></a>
<a class="sourceLine" id="cb25-14" title="14"><span class="co">#curved balls</span></a>
<a class="sourceLine" id="cb25-15" title="15"><span class="co">#what is len(result_list)? and len(test_list)?</span></a>
<a class="sourceLine" id="cb25-16" title="16"><span class="co">#what about len(test_list[2])?</span></a></code></pre></div>
<p>You can make a list of out something with the <strong>list()</strong> command. For example if you <strong>list(“turn this sentence into a list”)</strong> you are going to get a list of 6 words.</p>
<p>Commands like this (and <strong>str()</strong> and <strong>int()</strong>) that creates a type of object of a certain type are called <em>constructors</em>. You can use constructors to turn data of a certain type into another one.</p>
<p>Lists have many methods and there’s quite a lot we can do with that. Many functions return lists. For example: regular expression re.findall() returns a list of matches. We have seen this in Norvig’s program and we are going to use it later.</p>
<p>Also, the <strong>range(start:finish)</strong> returns a list of values from start (included) to the number before finish. (It’s the same <em>logic</em> of the string method <strong>slice</strong>.)</p>
<p>Before moving to dictionaries guess what the following does (get the answers from an IPython session):</p>
<ul>
<li>range(7);</li>
<li>range(3:7);</li>
<li>range(10)+1.</li>
<li>range(10,100,20)</li>
</ul>
<p>Curved ball. What’s the third parameter in range(10, 100, 20)?</p>
</div>
<div id="dictionaries" class="section level3">
<h3><span class="header-section-number">5.6.3</span> Dictionaries</h3>
<p>Dictionaries are another <em>mutable</em> data structure. They are similar to list but give you more control over the items. Dictionaries stores its items as pairs of <em>keys</em> and <em>values</em>.</p>
<p>Think about them as an address book, you have “name” (key) and “value” (phone number). We use keys to retrieve the corresponding values, so we have to provide immutable data types as keys.</p>
<p>Dictionaries are initialized with programmy-brackets (curly ones). Keys and values are separated by a column. Dictionary items are comma-separated.</p>
<p><em>Dictionary like phone book</em></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb26-1" title="1">phone_book <span class="op">=</span> {</a>
<a class="sourceLine" id="cb26-2" title="2">              <span class="st">&quot;Alice&quot;</span>: <span class="st">&quot;123&quot;</span>, <span class="co">#number as string</span></a>
<a class="sourceLine" id="cb26-3" title="3">              <span class="st">&quot;Bob&quot;</span>: <span class="dv">231</span>, <span class="co">#this number is an int</span></a>
<a class="sourceLine" id="cb26-4" title="4">              <span class="st">&quot;Carl&quot;</span>: <span class="st">&quot;312&quot;</span></a>
<a class="sourceLine" id="cb26-5" title="5">              }</a></code></pre></div>
<p>Iterating on dictionaries is more complex as we now have to consider <em>both keys and values</em>. Nonetheless, dictionaries allow us to add some further structure to our data due to the key-value pair. Further, dictionary items maintain the order at which they are inserted into the dictionary as of Python 3.7.<a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a></p>
<p>Why do we need dictionaries? Can’t we use lists all time? Well, lists keep track of the order, but there’s no structure into it. If you list [person, number, person, number, person, number] <em>you</em> can see a structure in the list but the list data structure offers you no structure to store it. (Ok, you may do tricks to print only persons and only numbers… can you spot a way? Nonetheless, lists are mutable and it takes a little to make an indexing mistake or drop an item and mess the structure we tried to add to the list.)</p>
<p>Remember when we talked about the balance between being exhaustive and concise to the point in the introduction? Data structures are one of the many trade-offs.</p>
<p>Dictionaries are a lot of fun and can be useful. Maybe you want to practice a foreign language while commuting or attending boring meetings. You would like an app that throws you some words to test if you know the meaning. Basically you are going to have the vocabulary as a (Python) dictionary of keys (lemma) and values (definition).</p>
<p>You are then asked if you know the word or not (you can even add a ‘not so sure’). Depending on the answer, you may want to see the definition of the word (or maybe to add a button with “show definition”). Have fun programming this! (You can use the NTLK module to access a thesaurus of words as a database.)</p>
<p>If you think this is too easy, you can save your performances and get asked questions depending on how you did in previous tests. (Maybe you want to build more dictionaries for the kinds of answers where you store the word and the times you get it right / wrong / not sure).</p>
<p>Below we are you some methods to:</p>
<ol style="list-style-type: decimal">
<li>check that a key is in the dictionary;</li>
<li>print dictionary’s <strong>key(s)</strong>;</li>
<li>print dictionary’s <strong>value(s)</strong>;</li>
<li>print dictionary’s key, value <strong>pairs</strong>;</li>
<li>(later on, once we introduce comprehensions, we’ll see how to <em>swap</em> keys and values).</li>
</ol>
<p>Again, we are using <strong>address_book</strong> dictionary as our dummy helper. And, once more, we are anticipating for loops (see flow control in a little while).</p>
<p><em>Dictionary operations - ch. 5.6</em></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb27-1" title="1">address_book <span class="op">=</span> {</a>
<a class="sourceLine" id="cb27-2" title="2">              <span class="st">&quot;Alice&quot;</span>: <span class="st">&quot;123&quot;</span>, <span class="co">#number as string</span></a>
<a class="sourceLine" id="cb27-3" title="3">              <span class="st">&quot;Bob&quot;</span>: <span class="dv">231</span>, <span class="co">#this number is an int</span></a>
<a class="sourceLine" id="cb27-4" title="4">              <span class="st">&quot;Carl&quot;</span>: <span class="st">&quot;312&quot;</span></a>
<a class="sourceLine" id="cb27-5" title="5">              }</a>
<a class="sourceLine" id="cb27-6" title="6"></a>
<a class="sourceLine" id="cb27-7" title="7"><span class="co"># get the value for a certain key </span></a>
<a class="sourceLine" id="cb27-8" title="8"><span class="co"># (and return the default, if provided.)</span></a>
<a class="sourceLine" id="cb27-9" title="9">address_book.get(<span class="st">&quot;Alice&quot;</span>)</a>
<a class="sourceLine" id="cb27-10" title="10">address_book.get(<span class="st">&quot;Ann&quot;</span>) <span class="co">#returns 0, no Ann in our dict</span></a>
<a class="sourceLine" id="cb27-11" title="11"></a>
<a class="sourceLine" id="cb27-12" title="12"><span class="co">#Print all values in the dictionary, one by one:</span></a>
<a class="sourceLine" id="cb27-13" title="13"></a>
<a class="sourceLine" id="cb27-14" title="14"><span class="cf">for</span> x <span class="kw">in</span> address_book: <span class="co">#x takes the key</span></a>
<a class="sourceLine" id="cb27-15" title="15">    <span class="bu">print</span>(address_book[x]) <span class="co">#dict[key] returns you the value</span></a>
<a class="sourceLine" id="cb27-16" title="16"></a>
<a class="sourceLine" id="cb27-17" title="17"></a>
<a class="sourceLine" id="cb27-18" title="18"><span class="co">#You can use  values() function to return values of a dictionary:</span></a>
<a class="sourceLine" id="cb27-19" title="19"></a>
<a class="sourceLine" id="cb27-20" title="20"><span class="cf">for</span> x <span class="kw">in</span> address_book.values():</a>
<a class="sourceLine" id="cb27-21" title="21"><span class="co">#now x is whatever is founf in values() - i.e. values already</span></a>
<a class="sourceLine" id="cb27-22" title="22">    <span class="bu">print</span>(x)</a>
<a class="sourceLine" id="cb27-23" title="23">  </a>
<a class="sourceLine" id="cb27-24" title="24"><span class="co">#Loop through both keys and values</span></a>
<a class="sourceLine" id="cb27-25" title="25"><span class="co">#use the items() function that tell which items we have</span></a>
<a class="sourceLine" id="cb27-26" title="26"><span class="co">#in a dictionary, i.e. keys values:</span></a>
<a class="sourceLine" id="cb27-27" title="27"></a>
<a class="sourceLine" id="cb27-28" title="28"><span class="cf">for</span> x, y <span class="kw">in</span> address_book.items():</a>
<a class="sourceLine" id="cb27-29" title="29">    <span class="bu">print</span>(x, y)</a>
<a class="sourceLine" id="cb27-30" title="30">  </a>
<a class="sourceLine" id="cb27-31" title="31"><span class="co"># you can replace x and y with what they stand for</span></a>
<a class="sourceLine" id="cb27-32" title="32"><span class="co"># i.e. key, value</span></a>
<a class="sourceLine" id="cb27-33" title="33"></a>
<a class="sourceLine" id="cb27-34" title="34"><span class="cf">for</span> key, value <span class="kw">in</span> address_book.items():</a>
<a class="sourceLine" id="cb27-35" title="35">    <span class="bu">print</span>(key, value)</a></code></pre></div>
</div>
<div id="other-data-types-and-data-structures-integer-and-float-boolean-tuples-sets" class="section level3">
<h3><span class="header-section-number">5.6.4</span> Other Data Types and Data Structures: Integer and Float; Boolean, Tuples, Sets</h3>
<p>There other data types and other data structures you need to be able to identify. Again, this is no introduction to the whole topic.</p>
<p>Numbers - as Data Types - are represented as Integer (e.g., 1, 7, 42) and Float (e.g., 0.28431). You can do the usual math on them the way you imagine. But there’s also floor division that returns you what’s left. Instead of the standard slash ‘/’ for division where 4/2=2, you use ‘%’. So 4%2=0 and 5%2 = 1.</p>
<p>Floor division is useful to check if a control parameter is odd or even. Or to check if we have finished a cycle. Suppose you have <em>papers to group</em>. You want to build stacks of a certain number of papers (user choose it). You want to count how many stacks of X papers you have. A way to do that is to go through the (say 21) papers and every time you can divide the current paper number with a floor of zero (suppose we want stacks of 7) we add 1 to the stack counter.</p>
<p>So we are going 1 to 21. At 7 we get 7%7=0, so stack = 1. At 14 we again have 14%7=0 and stack goes to 2. At 21 we get to 3. (If you want to code that remember the machine starts counting at 0 and that a = 1 means we have <em>assigned</em> number 1 to variable ‘a’. To check for equivalence we need two ‘==’.)</p>
<p>While talking about data types, there are also Boolean values. As you can imagine these are True and False. Explore what is truthy and falsy in Python. (You can evaluate expressions like ‘X is True’). Do that with IPython or the interpreter.</p>
<p>Moving to data structure we are likely to use <em>tuples</em>. They are <em>immutable</em> and are created as follows:</p>
<ul>
<li>listing comma-separated values: Tuple = 1, 2, 3;</li>
<li>using parentheses: Tuple2 = (“a”, “b”, 2, 4). Note tuples can hold different kinds of objects;</li>
<li>if you want to make a “lonely tuple”, i.e. a tuple with a single object, you need to put a parenthesis after it: LoneTup = (“help!”,).</li>
</ul>
<p>Why is that? Write a tuple, like tup = (1, 2). And print it (or just call tup in the interpreter). Now, try to write a = (1) and print a…</p>
<p>Have you seen it? Ask for confirmation. What’s the type of a? Yes, int.
Ok, now try reassigning a = (1,). Print a. See the difference? Check for type, now you have the tuple.</p>
<p>Next in line, we have <em>sets</em>. Sets are <em>mutable</em> collections of items, unordered, not indexed and <em>without repetitions</em>. If you need immutable sets for any reason, be sure to check out <em>frozensets</em>.</p>
<p>Sets are created with curly brackets, as follows:</p>
<p>Set = {‘element1’, ‘2’, ‘three’}</p>
<p>We can do all the elementary-school set operations we did with Venn-diagrams.</p>
<p>Sets are cool to remove redundancy. Try to write a set with multiple elements, i.e. something like test_set = {1, 1, 1, 2}. Print the test_set. See that? You have a set of len() = 2, i.e. just the two different elements (1 and 2).</p>
<p>Ok, let’s try to put some sets in action. Suppose you want to count the common words of two different texts. Assuming the two texts comes as big strings, say, ‘Text1’ and ‘Text2’, that’s a viable strategy given what we know:</p>
<ol style="list-style-type: decimal">
<li><em>split</em> the first string - Text1 - into words (i.e. where the whitespace is);</li>
<li><em>make a set</em> out of this split;</li>
<li><em>split</em> the second string - Text2- into words (i.e. where the whitespace is);</li>
<li><em>make a set</em> out the split of the second string;</li>
<li>calculate <em>set union</em>.</li>
</ol>
<p>Nice, right?</p>
<p>If you try this experiment you are going to find it has some quirks:</p>
<ol style="list-style-type: decimal">
<li>when you print sets (set union is a set) items do not follow the order of the sentence. Remember: sets are <em>unordered</em>. Print the same set multiple times, you’ll have different ordered outputs;</li>
<li>if you split using spaces and the text had punctuation, punctuation signs become part of the words;</li>
<li>the same word capitalized and not capitalized is not the same word for your machine. <strong>CapITalizaTion MaTTeRs</strong>.</li>
</ol>
<p>Luckily, you can fix this: strings have a lower() method, remember? That solves (3). Also, strings have a replace() method, so you can replace punctuation signs with… nothing: in that way you are removing them.</p>
<p>Ok, well done, here’s the official Python documentation to the built-in data types. It’s though but it’s better than a cheat sheet: <a href="https://docs.python.org/3.8/library/stdtypes.html" class="uri">https://docs.python.org/3.8/library/stdtypes.html</a>. (We are saving classes for later.)</p>
</div>
</div>
<div id="flow-control" class="section level2">
<h2><span class="header-section-number">5.7</span> Flow Control</h2>
<p>Flow control is where we structure our code. A program is a small(ish) world in which we check various status and, for each status, we have instructions to deal with it. If something happens and we have no idea how to deal with it, the program crushes. (Crushing is a safety feature: a secure and safe crush is better than some unexpected super compromising behavior.)</p>
<p>Checking for every case in our program might seem quite a lot of work, but we are lucky: we can try things and raise exceptions. So we can say “if this happens and we get something unknown, print a message, save that and close everything”.</p>
<p>Ok, let’s start thinking about <em>flow control from what we know</em>. Think about our text editor (RStudio) or our browsing the internet experience. How does the computer know which key I am going to press? How does the browser know where I am going to move the mouse?</p>
<p>Of course the pc is spying on us, but not in the sense how some tenured old persons (maybe those than can’t sort the list of students alphabetically) say.</p>
<p>A way a text editor can check what we are doing it having a loop going on for as long as the program is opened that checks for keyboard inputs (among many other things). The browser checks your mouse position, a videogame has a game loop that goes on as long as the game is opened.
This is a <strong>while</strong> loop. If you need a while loop to go on forever, add a condition that is always true (True is an option, 1 &gt; 0 another - philosophers debate analyticity, but analytics statements - if any exist - can help us here).</p>
<p>Conditionals are also good: we want to check if something is the case, if that works something happens. Otherwise (else), we’ll account for that.</p>
<p>Then we have other task-specific issues. Like: checking all items in a list and capitalize them. Those are for loops.</p>
<p>And try-except things, like: try to open a webpage, except you get an error saying the page can’t be accessed. (We’ll use that while retrieving search engine results.)</p>
<p>Ok, so match for an overview. Let’s dive in.</p>
<div id="for-loops-iteration-and-unpacking" class="section level3">
<h3><span class="header-section-number">5.7.1</span> For Loops: Iteration and Unpacking</h3>
<p>We have already seen for-loops. For loops are used to iterate on collections and perform an action for all the elements affected by the loop.</p>
<p>The syntax is the following (items in <strong>bold</strong> mark reserved keywords and necessary syntax in terms of columns, newline, and spaces):</p>
<ol style="list-style-type: decimal">
<li><strong>for</strong>;</li>
<li>indicate a variable for items we want and we are going to manipulate;</li>
<li><strong>in</strong>;</li>
<li>name of the container of the items: it can be a list, a dictionary or even a function that returns them, example: the range() functions, which return numbers in a range;</li>
<li><strong>:</strong> (this semicolon is really important, it signals the beginning of the loop block);</li>
<li>after a colon you have a <strong>newline</strong>;</li>
<li>added level of <strong>indentation</strong>;</li>
<li>operations on the items you mentioned in point (2).</li>
</ol>
<p>Here are some examples:</p>
<p><em>For loops examples - ch. 5.7</em></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb28-1" title="1">items <span class="op">=</span> [<span class="st">&#39;first item&#39;</span>, <span class="st">&#39;second item&#39;</span>, <span class="st">&#39;third item&#39;</span>, <span class="st">&#39;n item&#39;</span>]</a>
<a class="sourceLine" id="cb28-2" title="2"></a>
<a class="sourceLine" id="cb28-3" title="3"><span class="cf">for</span> i <span class="kw">in</span> items:</a>
<a class="sourceLine" id="cb28-4" title="4">    <span class="bu">print</span>(i) <span class="co">#i matches the previous i</span></a>
<a class="sourceLine" id="cb28-5" title="5"></a>
<a class="sourceLine" id="cb28-6" title="6"><span class="co">#same output, different names</span></a>
<a class="sourceLine" id="cb28-7" title="7"></a>
<a class="sourceLine" id="cb28-8" title="8"><span class="cf">for</span> item <span class="kw">in</span> items:</a>
<a class="sourceLine" id="cb28-9" title="9">    <span class="bu">print</span>(item) <span class="co">#the name you use to iterate an object doesn&#39;t</span></a>
<a class="sourceLine" id="cb28-10" title="10">    <span class="co">#matter</span></a>
<a class="sourceLine" id="cb28-11" title="11">    </a>
<a class="sourceLine" id="cb28-12" title="12"><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">20</span>):</a>
<a class="sourceLine" id="cb28-13" title="13">    <span class="bu">print</span>(number<span class="op">+</span><span class="dv">1</span>) <span class="co">#returns numbers from 1 to 20</span></a></code></pre></div>
</div>
<div id="if-you-want-to-evaluate-conditionals-add-if" class="section level3">
<h3><span class="header-section-number">5.7.2</span> If you Want to Evaluate Conditionals, Add If</h3>
<p>Conditional loops are used to evaluate a condition and branch your code into cases. We have seen it already when we checked if some objects had a specific length.</p>
<p>The syntax is the following (items in <strong>bold</strong> mark reserved keywords and necessary syntax in terms of columns, newline, and spaces):</p>
<ol style="list-style-type: decimal">
<li><strong>if</strong>;</li>
<li>indicate the item you want to test;</li>
<li>provide a condition to be tested;</li>
<li><strong>:</strong> (this colon is important, it marks the beginning of the code of the statement - other languages use parenthesis for that);</li>
<li>after a colon you have a <strong>newline</strong>;</li>
<li>added level of <strong>indentation</strong>;</li>
<li>operations on the item you mentioned in point (2) you want to happen;</li>
<li>(what follows here is optional)</li>
<li><strong>newline</strong>;</li>
<li><strong>deindent</strong>;</li>
<li><strong>else</strong></li>
<li><strong>:</strong></li>
<li><strong>newline</strong>;</li>
<li><strong>indent</strong>;</li>
<li>what should happen if the condition fails.</li>
</ol>
<p>This is a superverbose way to say: “if a, then x, else y”.</p>
<p>You can also use <strong>elif</strong> to <em>test multiple conditions being true and then execute your code as soon as one fire</em>.</p>
<p>Note: you can have <em>only one else condition</em> (think about it in terms of if a… else (if a is not the case) something else). But you can have multiple elifs. Think about moving a player with the keyboard: the player moves if you press left or if you press right or if you press up… the first key you press makes the player move.</p>
<p>Ok, enough talk. Here are some examples:</p>
<p><em>If statements examples - ch. 5.8</em></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb29-1" title="1"><span class="co">#check if a number is above threshold</span></a>
<a class="sourceLine" id="cb29-2" title="2"></a>
<a class="sourceLine" id="cb29-3" title="3">number <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&#39;Insert a high enough number&#39;</span>))</a>
<a class="sourceLine" id="cb29-4" title="4"><span class="co">#note the int conversion</span></a>
<a class="sourceLine" id="cb29-5" title="5"></a>
<a class="sourceLine" id="cb29-6" title="6"><span class="cf">if</span> number <span class="op">&gt;</span> <span class="dv">10</span>:</a>
<a class="sourceLine" id="cb29-7" title="7">    <span class="bu">print</span>(<span class="st">&#39;Ok, your number is big enough&#39;</span>)</a>
<a class="sourceLine" id="cb29-8" title="8"></a>
<a class="sourceLine" id="cb29-9" title="9"><span class="co">#same case, but adding an &#39;else&#39; which reveals the threshold</span></a>
<a class="sourceLine" id="cb29-10" title="10"></a>
<a class="sourceLine" id="cb29-11" title="11"></a>
<a class="sourceLine" id="cb29-12" title="12">number <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&#39;Insert a high enough number&#39;</span>))</a>
<a class="sourceLine" id="cb29-13" title="13"><span class="co">#note the int conversion</span></a>
<a class="sourceLine" id="cb29-14" title="14"></a>
<a class="sourceLine" id="cb29-15" title="15"><span class="cf">if</span> number <span class="op">&gt;</span> <span class="dv">10</span>:</a>
<a class="sourceLine" id="cb29-16" title="16">    <span class="bu">print</span>(<span class="st">&#39;Ok, your number is big enough&#39;</span>)</a>
<a class="sourceLine" id="cb29-17" title="17"><span class="cf">else</span>:</a>
<a class="sourceLine" id="cb29-18" title="18">    <span class="bu">print</span>(<span class="st">&#39;Sorry, it has to be more than 10&#39;</span>)</a>
<a class="sourceLine" id="cb29-19" title="19">    </a>
<a class="sourceLine" id="cb29-20" title="20"><span class="co">#using elif</span></a>
<a class="sourceLine" id="cb29-21" title="21"><span class="co">#another silly game elif make tiers of ambition possible</span></a>
<a class="sourceLine" id="cb29-22" title="22">number <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&#39;Measure your ambition. Enter a number&#39;</span>))</a>
<a class="sourceLine" id="cb29-23" title="23"></a>
<a class="sourceLine" id="cb29-24" title="24"><span class="cf">if</span> number <span class="op">&lt;</span><span class="dv">0</span>:</a>
<a class="sourceLine" id="cb29-25" title="25">    <span class="bu">print</span>(<span class="st">&#39;How modest&#39;</span>)</a>
<a class="sourceLine" id="cb29-26" title="26"><span class="cf">elif</span> <span class="dv">0</span> <span class="op">&lt;</span> number <span class="op">&lt;</span> <span class="dv">10</span>:</a>
<a class="sourceLine" id="cb29-27" title="27">    <span class="bu">print</span>(<span class="st">&#39;Not too much&#39;</span>)</a>
<a class="sourceLine" id="cb29-28" title="28"><span class="cf">elif</span> <span class="dv">11</span> <span class="op">&lt;</span> number <span class="op">&lt;</span> <span class="dv">100</span>:</a>
<a class="sourceLine" id="cb29-29" title="29">    <span class="bu">print</span>(<span class="st">&#39;Wooo&#39;</span>)</a>
<a class="sourceLine" id="cb29-30" title="30"><span class="cf">elif</span> <span class="dv">101</span> <span class="op">&lt;</span> number <span class="op">&lt;</span> <span class="dv">9000</span>:</a>
<a class="sourceLine" id="cb29-31" title="31">    <span class="bu">print</span>(<span class="st">&#39;Gulp&#39;</span>)</a>
<a class="sourceLine" id="cb29-32" title="32"><span class="cf">elif</span> number <span class="op">&gt;</span> <span class="dv">9000</span>:</a>
<a class="sourceLine" id="cb29-33" title="33">    <span class="bu">print</span>(<span class="st">&#39;Over 9000!&#39;</span>)</a>
<a class="sourceLine" id="cb29-34" title="34"><span class="co">#did we cover all the outcomes? Nope!</span></a>
<a class="sourceLine" id="cb29-35" title="35"><span class="cf">else</span>:</a>
<a class="sourceLine" id="cb29-36" title="36">    <span class="bu">print</span>(<span class="st">&#39;case not considered&#39;</span>)</a></code></pre></div>
<p>Did you spot which cases were not covered in the last example? In you are in doubt try it out in the interpreter.</p>
</div>
<div id="make-things-last-for-a-while-with-while-and-remember-to-break-them" class="section level3">
<h3><span class="header-section-number">5.7.3</span> Make Things Last for a While with While (and Remember to Break them)</h3>
<p>While loops are used to make it the case that, as long as a condition holds, some operations happen. Suppose you are programming a (poor) spy. The spy only tracks the movements of the target while the target is awake.</p>
<p>As we said, in most of the cases we want to set up on-going enduring activities. That’s why we opt for ‘<strong>while True</strong>’ conditions: this will keep on going. In these cases we have to be sure to quit the loop by inserting a ‘break’ condition. We test this condition with an ‘if’ statement and this allows us to stay away from infinite loops (which are not good for our pc).</p>
<p>The syntax is the following (items in <strong>bold</strong> mark reserved keywords and necessary syntax in terms of columns, newline and spaces):</p>
<ol style="list-style-type: decimal">
<li><strong>while</strong>;</li>
<li>indicate a condition that triggers the loop;</li>
<li><strong>:</strong> (the colon is important, it marks the beginning of the code block that pertains to the loop)</li>
<li>after a colon you have a <strong>newline</strong>;</li>
<li>added level of <strong>indentation</strong>;</li>
<li>declare what you want to happen in the condition in point (2) holds;</li>
<li>(adding a break statement)</li>
<li><strong>if</strong> [condition] <strong>:</strong> (we already know the syntax of if);</li>
<li>(newline indent) <strong>break</strong></li>
</ol>
<p>Here are some examples:</p>
<p><em>Examples of while loops - ch. 5.9</em></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb30-1" title="1">a <span class="op">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb30-2" title="2">b <span class="op">=</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb30-3" title="3"><span class="cf">while</span> a <span class="op">&lt;</span> b:</a>
<a class="sourceLine" id="cb30-4" title="4">    <span class="bu">print</span>(a) <span class="co">#will go on forever </span></a>
<a class="sourceLine" id="cb30-5" title="5"></a>
<a class="sourceLine" id="cb30-6" title="6"></a>
<a class="sourceLine" id="cb30-7" title="7">a <span class="op">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb30-8" title="8">b <span class="op">=</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb30-9" title="9"><span class="cf">while</span> a <span class="op">&lt;</span> b:</a>
<a class="sourceLine" id="cb30-10" title="10">    <span class="bu">print</span>(a)</a>
<a class="sourceLine" id="cb30-11" title="11">    a <span class="op">=</span> a <span class="op">+</span><span class="dv">1</span> <span class="co">#now it will stop</span></a>
<a class="sourceLine" id="cb30-12" title="12">    <span class="co">#bonus: calculate the iterations before this stops</span></a>
<a class="sourceLine" id="cb30-13" title="13">    </a>
<a class="sourceLine" id="cb30-14" title="14"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb30-15" title="15">    <span class="co">#asks you things forever</span></a>
<a class="sourceLine" id="cb30-16" title="16">    answer <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Are you happy?&#39;</span>)</a>
<a class="sourceLine" id="cb30-17" title="17">    <span class="co">#unless you are forced into optimism</span></a>
<a class="sourceLine" id="cb30-18" title="18">    <span class="cf">if</span> answer <span class="op">==</span> <span class="st">&#39;yes&#39;</span>:</a>
<a class="sourceLine" id="cb30-19" title="19">        <span class="cf">break</span></a></code></pre></div>
</div>
<div id="prevent-crashes-with-tryexcept" class="section level3">
<h3><span class="header-section-number">5.7.4</span> Prevent Crashes with Try/Except</h3>
<p>Sometimes a program is syntactically fine, but unexpected things may occur. For example: we are passing the wrong data type to a function, we end up dividing by zero or we try to access a website that does not exist.</p>
<p>As we already know, when errors happen we want to know exactly what’s going on, so that we can promptly fix the code. Most of the errors are re-occurring - think about accessing a webpage that, for some reason, is not displaying - and, for this reason, Python comes with a list of built-in exceptions.</p>
<p>The list has different kinds of possible errors and tells us what happened and when the error is printed. It is good to have a look at that list. Also, it helps when we receive traceback errors: <a href="https://docs.python.org/3/library/exceptions.html#bltin-exceptions" class="uri">https://docs.python.org/3/library/exceptions.html#bltin-exceptions</a>.</p>
<p>Now that we know about this list of exceptions, we can use it to our advantage. We can now structure our code such that it tries to do something and, given we know we may encounter some error (like the 404 page not found), we are ready to handle an exception. In that way we are able to detect some errors and provide better feedback on what went wrong.</p>
<p>Let’s use ValueError as an example. (From the docs: <em>Raised when an operation or function receives an argument that has the right type but an inappropriate value, and the situation is not described by a more precise exception such as IndexError</em>.) We use ValueError to handle the case in which we ask to enter a number and we receive something else, like a string… With int(string) we have the correct type, because our string (suppose ‘hello!’ or ‘three’) is converted to int. Still, ‘hello’ is the wrong value for an int.</p>
<p><em>Try/Except block, nested into a while loop (with break)</em></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb31-1" title="1"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb31-2" title="2">     <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb31-3" title="3">         x <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&quot;Please enter a number: &quot;</span>))</a>
<a class="sourceLine" id="cb31-4" title="4">         <span class="cf">break</span></a>
<a class="sourceLine" id="cb31-5" title="5">     <span class="cf">except</span> <span class="pp">ValueError</span>:</a>
<a class="sourceLine" id="cb31-6" title="6">         <span class="bu">print</span>(<span class="st">&quot;We said number! Not letters naming a number.&quot;</span>)</a></code></pre></div>
<p>(Later on in our programs we’ll touch this by using the raise_for_status() method of the requests library that will check if our webpages exist or not. Requests is using a HTTPError from the urllib, which is part of the standard library -<a href="https://docs.python.org/3.2/library/urllib.error.html" class="uri">https://docs.python.org/3.2/library/urllib.error.html</a>).</p>
<p>All this flow control (plus passing arguments to function and calling methods) can be learnt visually. Sometimes mapping down the flow of our program is helpful. You can do it by hand, as it’s a great exercise. Or you can use tools, such as this: <a href="http://www.pythontutor.com/" class="uri">http://www.pythontutor.com/</a>.</p>
</div>
</div>
<div id="classes-and-comprehensions-more-pythonic-things" class="section level2">
<h2><span class="header-section-number">5.8</span> Classes and Comprehensions: More Pythonic Things</h2>
<p>It is time to step into two slightly advanced things. The first is classes. Classes are the blueprints of our objects.</p>
<p>Up until now we learnt a bit about data structures and flow controls. With functions we are able to group together pieces of code and make them reusable.</p>
<p>Using a function we can easily compute the area of a rectangle given the sides, rather than having a whole program that asks for one side, ask for the other one, and then computes the area.</p>
<p>To give you a more real-life example, suppose you are working on social media and politics and need to get followers on Instagram for a certain account. It is likely that you are going to first target the account and then do something like: connect to the webpage of the account, make a request for the page, play around with HTML, isolate the follower count you need, get the number. (We are going to do something similar with search engine results later in Part III.)</p>
<p>As soon as you are successful you wonder: what if I can abstract a bit more and make a function out of this program? In that way I can build a list of accounts I want to track for my research and then iterate over them with a for loop. For every account in the list, run the social media tracking function.</p>
<p>As you do that, you’ll feel relieved and excited. Your code and efforts start to pay off and, with a few refactoring, you can widely extend your dataset.</p>
<p>Ok, now imagine you want to do more with your data. Maybe you want to store weekly social media data, visualize the follower trends and maybe compare an account to a reference account. You keep adding function definition after function definition… you review flow control to have a better organization of the workflow, but that’s not enough.</p>
<p>Wouldn’t it be nice to have a further layer of abstraction such that different functions can be grouped together and performed on inside the same big container?
Something similar to what happened with strings and their methods.</p>
<p>After all, if we can replace, strip, lower, etc strings there should be a way to visualize, compare, extract data for an account… and you are right! Classes allow you to do that.</p>
<p>The second thing are <em>comprehensions</em>. Norvig had them in his script. Comprehensions are not related with language tests, they are a specific Python feature that allows you to build lists, dictionaries, or set by way of iterating on certain objects. Suppose you want to find out who are the followers of the followers of a certain account.</p>
<p>You want to say something “apply the extract_followers function for all users in account_followers”. That’s a comprehension statement in a nutshell. Basically we are shortening a for loop. Such a thing is sometimes referred to as “syntactic sugar”, a nicer and easier syntactic way to achieve the same result of a more verbose coding practice. Also, comprehensions are considered very <em>Pythonic</em>, in fact, they are a specific Python language trademark.</p>
<p>Ok, let’s dive in.</p>
<div id="classes-blueprints-for-more" class="section level3">
<h3><span class="header-section-number">5.8.1</span> Classes: BluePrints for More</h3>
<p>Classes are another way of structuring our data. Think about them as blueprints. You define general instructions in class, then you instantiate them to have the actual objects. If this speaks Plato or Types/token debates, you’re welcome.</p>
<p>Programming wise you can think about classes as a way to build a deck of cards.</p>
<p>The card class has some properties: value (Ace to King), color (red or black) and rank suit (Spade, Heart, Clubs, Diamonds).</p>
<p>If you’ve heard about object oriented programming or have friends working with Java, that’s what we are talking about (well, kind of, if you spend some time reading the docs about <em>Python</em> classes: <a href="https://docs.python.org/3/tutorial/classes.html" class="uri">https://docs.python.org/3/tutorial/classes.html</a>).</p>
<p>Classes are defined with a served word which, you can guess, is <strong>class</strong>. <em>Conventionally</em> class names are Capitalized. This is helpful. When you are using libraries and someone else’s code and you import capitalized items chances are that they are Classes. (You have seen that ValueError from our try/except example is capitalized and, if you go through the docs, you find out that exceptions are Classes).</p>
<p>This is a convention, so there is no 100% guarantee it will apply to all the code that you read. Nonetheless, it is precious information because you know that classes come packed with their methods, in form of definitions.
So now we move to creating a Class and adding some methods.</p>
<p>Ok, let’s get back to the social media account analyzer sketched above.</p>
<p>The first thing is to initialize our class, which is a complex way to say we have to specify the attributes we want our objects to have. Here there are two odd looking items:</p>
<ol style="list-style-type: decimal">
<li>classes are initialized with a “dunder init” function (i.e., with this double underscore init: __init__). The double underscores are somehow intimidating;</li>
<li>when we initialize a class, we need to tell the class what we are talking about the class itself. So we are passing <strong>self</strong> as an argument to init. This looks less nice than the example we have seen before.</li>
</ol>
<p>Anyway, here’s a class.</p>
<p><em>Initializing a class</em></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">class</span> SocialMediaAccount:</a>
<a class="sourceLine" id="cb32-2" title="2"></a>
<a class="sourceLine" id="cb32-3" title="3">    <span class="co">#initialization</span></a>
<a class="sourceLine" id="cb32-4" title="4">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, category):</a>
<a class="sourceLine" id="cb32-5" title="5">        <span class="va">self</span>.name <span class="op">=</span> name</a>
<a class="sourceLine" id="cb32-6" title="6">        <span class="va">self</span>.category <span class="op">=</span> category</a></code></pre></div>
<p>When we are calling an instance of a SocialMediaAccount the init function is going to construct SocialMediaAccount that has will take as a name the name we type (‘Bolt’) and as a category the category we specify (‘Athlete’).</p>
<p>Basically with the init method we are passing the arguments to the class instance itself. If now we want to create an object for the singer Imogen Heap, we just need to have call the constructor with the different parameters: SocialMediaAccount(‘Imogen Heap’, ‘singer’).</p>
<p>Remember that, to construct these objects we need to instantiate class objects we need to assign them. So, if you want to have the two accounts you can do like that.</p>
<p><em>Constructing objects out of classes - ch. 5.10</em></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">class</span> SocialMediaAccount:</a>
<a class="sourceLine" id="cb33-2" title="2"></a>
<a class="sourceLine" id="cb33-3" title="3">    <span class="co">#initialization</span></a>
<a class="sourceLine" id="cb33-4" title="4">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, category):</a>
<a class="sourceLine" id="cb33-5" title="5">        <span class="va">self</span>.name <span class="op">=</span> name</a>
<a class="sourceLine" id="cb33-6" title="6">        <span class="va">self</span>.category <span class="op">=</span> category</a>
<a class="sourceLine" id="cb33-7" title="7">        </a>
<a class="sourceLine" id="cb33-8" title="8"></a>
<a class="sourceLine" id="cb33-9" title="9"><span class="co">#initialize the Trump object</span></a>
<a class="sourceLine" id="cb33-10" title="10">account_trump <span class="op">=</span> SocialMediaAccount(<span class="st">&#39;Trump&#39;</span>, <span class="st">&#39;politician&#39;</span>)</a>
<a class="sourceLine" id="cb33-11" title="11"></a>
<a class="sourceLine" id="cb33-12" title="12"><span class="co">#initialize the Imogen object</span></a>
<a class="sourceLine" id="cb33-13" title="13">account_imogen <span class="op">=</span> SocialMediaAccount(<span class="st">&#39;Imogen Heap&#39;</span>, <span class="st">&#39;singer&#39;</span>)</a>
<a class="sourceLine" id="cb33-14" title="14"></a>
<a class="sourceLine" id="cb33-15" title="15"><span class="co">#test that account_imogen.name shoows &#39;Imogen Heap&#39;</span></a></code></pre></div>
<p>This is cool, but is not going to help. Now we can add methods to a class (instance method). So we can add a method that, given an Instagram url or name, it delivers us the followers. We rewrite our class as follows.</p>
<p><em>Adding an instance method to a class</em></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">class</span> SocialMediaAccount:</a>
<a class="sourceLine" id="cb34-2" title="2"></a>
<a class="sourceLine" id="cb34-3" title="3">    <span class="co">#initialization</span></a>
<a class="sourceLine" id="cb34-4" title="4">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, category):</a>
<a class="sourceLine" id="cb34-5" title="5">        <span class="va">self</span>.name <span class="op">=</span> name</a>
<a class="sourceLine" id="cb34-6" title="6">        <span class="va">self</span>.category <span class="op">=</span> category</a>
<a class="sourceLine" id="cb34-7" title="7">        </a>
<a class="sourceLine" id="cb34-8" title="8">    <span class="kw">def</span> insta_follower(<span class="va">self</span>, url):</a>
<a class="sourceLine" id="cb34-9" title="9">        <span class="co">#insert processing function</span></a>
<a class="sourceLine" id="cb34-10" title="10">        <span class="co">#we are not providing this here</span></a>
<a class="sourceLine" id="cb34-11" title="11">        <span class="cf">return</span> instagramfollowers</a>
<a class="sourceLine" id="cb34-12" title="12">        </a>
<a class="sourceLine" id="cb34-13" title="13"></a>
<a class="sourceLine" id="cb34-14" title="14"><span class="co">#initialize the Trump object</span></a>
<a class="sourceLine" id="cb34-15" title="15">account_trump <span class="op">=</span> SocialMediaAccount(<span class="st">&#39;Trump&#39;</span>, <span class="st">&#39;politician&#39;</span>)</a>
<a class="sourceLine" id="cb34-16" title="16"><span class="co">#call the method that gives us the follower</span></a>
<a class="sourceLine" id="cb34-17" title="17">account_trump.insta_follower(<span class="st">&#39;http://instatrump&#39;</span>)</a></code></pre></div>
<p>I am sorry not to give the whole Trump Analytics kit, but we were interested in seeing an approach to classes. I thought it was better than having a tutorial with barking dogs or playing cards.<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a></p>
<p>Getting back to the analytics projects, there is something worth discussing to persuade you to go into the project. First, data structure-wise, our class has a pair of values: do you remember a data structure that does its best in saving key value pairs?</p>
<p>Still, if we develop the project, we may end up adding methods that target different urls for different social media. Why track only Instagram when we have Twitter as well?</p>
<p>This is an issue. Different social media requires different functions, which is fine. Nonetheless, different social media are hosted at different urls. Some users have the same alias across platforms, some don’t. So we need to find a way to store a list of social urls. A dictionary with dictionaries? Something else? That’s up to you.</p>
<p>Or, to simplify the functions, we may encode all these data in the init of the class. If we are lucky, we can store only the ‘social_id’, if that’s consistent. When we call the twitter function there would be no need to add an url. We can find out to construct it with some form ‘Twitter’ + ‘social_id’.</p>
<p>Otherwise we store all the social urls. Below is a mock implementation of this latter scenario.</p>
<p><em>Class-based mock Social Media Analyzer</em></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb35-1" title="1"><span class="kw">class</span> SocialMediaAccount:</a>
<a class="sourceLine" id="cb35-2" title="2"></a>
<a class="sourceLine" id="cb35-3" title="3">    <span class="co">#initialization</span></a>
<a class="sourceLine" id="cb35-4" title="4">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, category, instaurl, twitterurl):</a>
<a class="sourceLine" id="cb35-5" title="5">        <span class="va">self</span>.name <span class="op">=</span> name</a>
<a class="sourceLine" id="cb35-6" title="6">        <span class="va">self</span>.category <span class="op">=</span> category</a>
<a class="sourceLine" id="cb35-7" title="7">        <span class="va">self</span>.instaurl <span class="op">=</span> instaurl</a>
<a class="sourceLine" id="cb35-8" title="8">        <span class="va">self</span>.twitterurl <span class="op">=</span> twitterurl</a>
<a class="sourceLine" id="cb35-9" title="9">        </a>
<a class="sourceLine" id="cb35-10" title="10">    <span class="kw">def</span> insta_follower(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb35-11" title="11">        <span class="co">#insert processing function</span></a>
<a class="sourceLine" id="cb35-12" title="12">        <span class="co">#we are not providing this here</span></a>
<a class="sourceLine" id="cb35-13" title="13">        instagramfollowers <span class="op">=</span> extract(instaurl)</a>
<a class="sourceLine" id="cb35-14" title="14">        <span class="cf">return</span> instagramfollowers</a>
<a class="sourceLine" id="cb35-15" title="15">    </a>
<a class="sourceLine" id="cb35-16" title="16">    <span class="kw">def</span> tw_follower(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb35-17" title="17">        <span class="co">#insert processing function</span></a>
<a class="sourceLine" id="cb35-18" title="18">        <span class="co">#we are not providing this here</span></a>
<a class="sourceLine" id="cb35-19" title="19">        twfollowers <span class="op">=</span> extract(twitterurl)</a>
<a class="sourceLine" id="cb35-20" title="20">        <span class="cf">return</span> twfollowers</a>
<a class="sourceLine" id="cb35-21" title="21">        </a>
<a class="sourceLine" id="cb35-22" title="22"></a>
<a class="sourceLine" id="cb35-23" title="23"><span class="co">#initialize the Trump object</span></a>
<a class="sourceLine" id="cb35-24" title="24">account_trump <span class="op">=</span> SocialMediaAccount(<span class="st">&#39;Trump&#39;</span>, <span class="st">&#39;politician&#39;</span>, <span class="op">\</span></a>
<a class="sourceLine" id="cb35-25" title="25"><span class="st">&#39;instaTrump&#39;</span>, <span class="st">&#39;twitterTrump&#39;</span>)</a>
<a class="sourceLine" id="cb35-26" title="26"><span class="co">#call the method that gives us the follower</span></a>
<a class="sourceLine" id="cb35-27" title="27">account_trump.insta_follower() <span class="co">#no need to specify the url</span></a>
<a class="sourceLine" id="cb35-28" title="28"><span class="co">#that&#39;s already in the class</span></a>
<a class="sourceLine" id="cb35-29" title="29">account_trump.tw_follower() <span class="co">#no need to specify the url</span></a>
<a class="sourceLine" id="cb35-30" title="30"><span class="co">#that&#39;s already in the class</span></a></code></pre></div>
</div>
<div id="comprehension" class="section level3">
<h3><span class="header-section-number">5.8.2</span> Comprehension</h3>
<p>Python allows us to write comprehension. On the one hand, comprehensions are great, compact and Pythonic. On the other hand, comprehensions can look a bit esoteric at first.</p>
<p>We can think about comprehensions as ways to shorten a for loop. We can generate a list of output that is the result of performing some operations on a set of items (e.g. items in a list).</p>
<p>A general template for this is:</p>
<p><em>Well-known for loop (written in a non-Pythonic way)</em></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb36-1" title="1">items <span class="op">=</span> [<span class="st">&#39;first item&#39;</span>, <span class="st">&#39;second item&#39;</span>, <span class="st">&#39;third item&#39;</span>, <span class="st">&#39;n item&#39;</span>]</a>
<a class="sourceLine" id="cb36-2" title="2"></a>
<a class="sourceLine" id="cb36-3" title="3"><span class="co">#initialize output</span></a>
<a class="sourceLine" id="cb36-4" title="4">output <span class="op">=</span> []</a>
<a class="sourceLine" id="cb36-5" title="5"></a>
<a class="sourceLine" id="cb36-6" title="6"><span class="cf">for</span> item <span class="kw">in</span> items:</a>
<a class="sourceLine" id="cb36-7" title="7">  operation <span class="op">=</span> item <span class="op">+</span> item</a>
<a class="sourceLine" id="cb36-8" title="8">  output.append(operation)</a></code></pre></div>
<p>You can squeeze all this in this one-liner using comprehensions (bold is for the comprehension):</p>
<p><em>A list comprehension</em></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb37-1" title="1"><span class="co">#comprehension begins with [] telling it produces a list</span></a>
<a class="sourceLine" id="cb37-2" title="2"><span class="co">#that&#39;s list comprehension</span></a>
<a class="sourceLine" id="cb37-3" title="3"><span class="co">#first we say what we want as an outcome, i.e. specify the</span></a>
<a class="sourceLine" id="cb37-4" title="4"><span class="co">#process to be followed</span></a>
<a class="sourceLine" id="cb37-5" title="5"><span class="co">#then we define for which items</span></a>
<a class="sourceLine" id="cb37-6" title="6">output <span class="op">=</span> [item <span class="op">+</span> item <span class="cf">for</span> item <span class="kw">in</span> items]</a></code></pre></div>
<p>(What should you add to the code above to be able to run it and see the output displayed?)</p>
<p>The pattern for the comprehensions is that of <strong>output = operation you want to perform for items that are in a certain container</strong>.
The code above is equivalent to the more explicit for loop.</p>
<p>We can rephrase this a bit further. In fact, item + item is not the best example of an operation to perform on items. Suppose you have a dedicated function you want to run on some arguments. The comprehension looks like the following:</p>
<p><em>(List) comprehension passing arguments to function - ch. 5.11</em></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb38-1" title="1"><span class="kw">def</span> yourfunction(x):</a>
<a class="sourceLine" id="cb38-2" title="2">  <span class="bu">print</span>(x)</a>
<a class="sourceLine" id="cb38-3" title="3">  <span class="bu">print</span>(x<span class="op">*</span>x)</a>
<a class="sourceLine" id="cb38-4" title="4">  </a>
<a class="sourceLine" id="cb38-5" title="5">output <span class="op">=</span> [yourfunction(item) <span class="cf">for</span> item <span class="kw">in</span> items]</a></code></pre></div>
<p>This is equivalent to the way longer:</p>
<p><em>Function and for loop (not-Pythonic)</em></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb39-1" title="1"><span class="kw">def</span> yourfunction(x):</a>
<a class="sourceLine" id="cb39-2" title="2">  <span class="bu">print</span>(x)</a>
<a class="sourceLine" id="cb39-3" title="3">  <span class="bu">print</span>(x<span class="op">*</span>x)</a>
<a class="sourceLine" id="cb39-4" title="4"></a>
<a class="sourceLine" id="cb39-5" title="5">output <span class="op">=</span> []</a>
<a class="sourceLine" id="cb39-6" title="6"><span class="cf">for</span> item <span class="kw">in</span> items:</a>
<a class="sourceLine" id="cb39-7" title="7">  output.append(yourfunction(item))</a></code></pre></div>
<p>The best way to get proficient with comprehension is by practicing them.
You are welcomed to turn previously used for loops into comprehensions.</p>
<p>Now try to write comprehensions and for loops for the following cases:</p>
<ul>
<li>check that all the elements you scraped from a website matches a certain pattern;</li>
<li>check all the lines of a text and ensure that there are no cases of double spaces, if a double space occurs, correct it to a single space;</li>
</ul>
<p>You can extend comprehensions to sets, by turning the square brackets of a list into curly brackets.</p>
<p>You can also use comprehensions in dictionaries and sets. Explore these yourself, maybe squeezing some of the above dictionary-related tools into comprehensions.</p>
</div>
<div id="more-comprehensions" class="section level3">
<h3><span class="header-section-number">5.8.3</span> More Comprehensions</h3>
<p>Comprehensions extends to sets and dictionaries. For dictionaries we need curly brackets and a colon. We define our pair of <strong>key: value</strong> and then use the comprehension syntax <em>for key, value in container_of_keys_and_values</em>.</p>
<p>The best example is this nice comprehension to swap keys and values which I’ve kept you waiting for way too long.</p>
<p><em>Swapping dictionaries comprehension</em></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb40-1" title="1">a_dict <span class="op">=</span> {<span class="st">&#39;a&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;c&#39;</span>: <span class="dv">3</span>}</a>
<a class="sourceLine" id="cb40-2" title="2">{value:key <span class="cf">for</span> key, value <span class="kw">in</span> a_dict.items()}</a>
<a class="sourceLine" id="cb40-3" title="3"></a>
<a class="sourceLine" id="cb40-4" title="4"><span class="co">#prints {1: &#39;a&#39;, 2: &#39;b&#39;, 3: &#39;c&#39;}</span></a></code></pre></div>
</div>
</div>
<div id="functions-revisited-args-times" class="section level2">
<h2><span class="header-section-number">5.9</span> Functions Revisited: *Args Times!</h2>
<p>There are more things we can do with functions like using passing one function into another one. This looks a lot like first you solve (1+2) in the parenthesis and then multiply by 3, as in this old elementary school expression: (1+2)*3.</p>
<p>The difference is that this time we can define all sorts of functions, we are not restricted to maths and fractions. (And we have to keep track of data types and data structured so that all the functions can be plumbed together producing the result we have in mind.)</p>
<p>So we go back to our shout function but this time we pass it a function to a different function, namely one that repeats the input.</p>
<p><em>Passing functions - ch. 5.12</em></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">def</span> shout(word):</a>
<a class="sourceLine" id="cb41-2" title="2">    <span class="cf">return</span> word.upper()</a>
<a class="sourceLine" id="cb41-3" title="3"></a>
<a class="sourceLine" id="cb41-4" title="4"><span class="kw">def</span> repeat(word):</a>
<a class="sourceLine" id="cb41-5" title="5">    <span class="cf">return</span> word <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> word</a>
<a class="sourceLine" id="cb41-6" title="6"></a>
<a class="sourceLine" id="cb41-7" title="7"><span class="co">#want to &#39;Say what?&#39; screaming twice?</span></a>
<a class="sourceLine" id="cb41-8" title="8"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</a>
<a class="sourceLine" id="cb41-9" title="9">    <span class="bu">print</span>(repeat(shout(<span class="st">&#39;Say what?&#39;</span>)))</a></code></pre></div>
<p>Ok, we can successfully take something that is produced by a function and input it somewhere else. Cool.</p>
<p>What if we need some default value, i.e. something to be used as a value should you not assign anything to the function?</p>
<p>We can do this by adding the default value we want after the argument of the function, adding = ‘default value’. Let’s apply a default argument to our shout function.</p>
<p><em>Default values in action</em></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">def</span> shout(word <span class="op">=</span> <span class="st">&#39;this capitalizes stuff&#39;</span>):</a>
<a class="sourceLine" id="cb42-2" title="2">    <span class="cf">return</span> word.upper()</a>
<a class="sourceLine" id="cb42-3" title="3">    </a>
<a class="sourceLine" id="cb42-4" title="4">shout() <span class="co">#returns THIS CAPITALIIZES STUFF</span></a>
<a class="sourceLine" id="cb42-5" title="5">shout(<span class="st">&#39;let it all out!&#39;</span>) <span class="co">#returns LET IT ALL OUT!</span></a></code></pre></div>
<p>What if we want to pass more than one value to our repeat function? Welcome *args.</p>
<p>We can define functions that take an arbitrary number of arg(ument)s. The issue is that *args provides us with arguments <strong>as a tuple</strong> (that’s why we have to cover them). We then need to find ways to unpack the arguments in this tuple.</p>
<p>Suppose you want to repeat more than one word at a time.
This will throw an error: we can’t concatenate tuples!</p>
<p><em>Error is coming…</em></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb43-1" title="1"><span class="kw">def</span> repeat(<span class="op">*</span>words):</a>
<a class="sourceLine" id="cb43-2" title="2">    <span class="cf">return</span> words <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> words <span class="co">#if you type word you</span></a>
<a class="sourceLine" id="cb43-3" title="3">    <span class="co">#have error of unknown variable</span></a>
<a class="sourceLine" id="cb43-4" title="4">    <span class="co">#we want the word in words, but &#39;word&#39; is not</span></a>
<a class="sourceLine" id="cb43-5" title="5">    <span class="co">#in our current code.</span></a></code></pre></div>
<p>To fix this we want to extract single words from the items in the tuple. A list comprehension comes to rescue us. It provides us string items (the items in the list) and it allows us to unpack the tuple.</p>
<p>Basically we are saying “repeat each word that is supplied in the *words field”. There it is below.</p>
<p><em>Unpacking with comprehensions</em></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb44-1" title="1"><span class="kw">def</span> repeat(<span class="op">*</span>words):</a>
<a class="sourceLine" id="cb44-2" title="2">    <span class="cf">return</span> [word <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> word <span class="cf">for</span> word <span class="kw">in</span> words]</a></code></pre></div>
<p>We can give our functions even more stuff. Sometimes you have functions with options or default messages.</p>
<p>For your Python explorative pleasures we have to say there are also **kwargs, i.e. <strong>k</strong>ey<strong>w</strong>ords <strong>arg</strong>ument<strong>s</strong>. Kwargs accept positional or named arguments which, given what we know from the data structures section above, we can identify as dictionaries.</p>
</div>
<div id="whats-in-a-name-naming-conventions-and-styles" class="section level2">
<h2><span class="header-section-number">5.10</span> What’s In a Name: Naming Conventions and Styles</h2>
<p>Ok, our tour into Python is almost over, at least to get us started. We have already seen quite a lot on the way: from spell checkers to basic tools for textual analysis. We’ve also sketched classes to analyze social media!</p>
<p>It is time to enumerate some naming conventions and style guidelines, listing things that we said explicitly or saw in action in the example.</p>
<p>Names tells you a lot in programming:</p>
<ul>
<li><strong>ClassesHaveCapitalLetters</strong>: when naming classes, we use capitalization to signal that;</li>
<li><strong>CONSTANTS_ARE_ALL_CAPS</strong>: sometimes programs have a parameter. Suppose you have a fixed view of items per page, that’s a constant value in the whole program. Or suppose you are using lifes at the start of a game or gravity, speed, max number of opened windows, etc. When you encode constants, they go all capitalized, so that you can easily spot them;</li>
<li>you can’t use reserved words in your naming variables: no ‘in’, ‘is’, ‘for’, ‘list’ or other. You can escape problems with ‘list’ going for ‘list_’. But maybe it is better to use a more informative name for your list;</li>
<li>spaces are not allowed in variable names: this leads us to choose between CamelCase vs. snake_case. This depends on the codebase.</li>
<li>leading underscores (like ‘_this’) are conventionally for throw-away variables: suppose you are in need to have a dummy variable to use just once. You need it to perform a calculation or to filter some data. Put an underscore in front of it and name it. Conventionally who reads your code will know that the ‘_x’ is not going to last for long.</li>
</ul>
</div>
<div id="saving-and-running-a-python-program-.py-and-.pyw" class="section level2">
<h2><span class="header-section-number">5.11</span> Saving and Running a Python Program: .py and .pyw</h2>
<p>We know how to run our code in the editor, but what about saving our precious experiments?</p>
<p>You’ve probably already saved some code from Spyder as .py, i.e. the standard python extension. It is good to know that there’s also the .pyw ending. The difference is that, in the case of .pyw we are running the file without opening the interpreter. (Which makes it perfect if you want to run a program or a tool in the background, as a <em>daemon</em>, as they say in geek speak.)</p>
<p>In fact, if you try to double click on a .py file, your system will try to execute the code and <em>not</em> to open it in the editor. (If you want to edit a .py file you right-click it and open with python’s IDLE or open it in your editor of choice).</p>
<p>When you run a Python file, an interpreter session is opened as well for you to get feedback on what happened. This helps if your program is outputting something or if an error occurs. In fact, in the interpreter you’ll see the error’s traceback. Learn to read traceback errors, they are the quickest way to fix the code.</p>
<p>If you want to package your file for a friend to use it, you need to research a bit on the topic of <em>freezing code</em>. On windows, you would like to have a .exe file for your friends to click on. And your wonderful PDF magic tool will be there for them to use.</p>
<p>Unfortunately, that’s not the case. The easier solution is that you:</p>
<ul>
<li>lure your friends into Python. Then they’ll have access to your tool on Anaconda or similar;</li>
<li>find a web-based environment to have your tool available. Try Colab or Jupyter Notebooks (which needs Python installed nonetheless);</li>
<li>tell them about this book :).</li>
</ul>
</div>
<div id="working-with-files" class="section level2">
<h2><span class="header-section-number">5.12</span> Working with Files</h2>
<p>Ok, we know quite a bit of Python. We now need to move onto files. File operations are necessary to open files in order to read data from them, saving data to files, etc. We can’t have self writing papers if we cannot create or read (text) files!</p>
<div id="file-types-text-and-data" class="section level3">
<h3><span class="header-section-number">5.12.1</span> File Types: Text and Data</h3>
<p>In Python we can deal with Python as text objects or as bytes objects. We most of the time use the “ordinary” text files, but we’ll also use binaries when dealing with pdf later.</p>
<p>These two types are easily distinguished:</p>
<ul>
<li><strong>text file</strong>: ordinary file, you can open them with any text editor;</li>
<li><strong>binary files</strong>: specific data files, with a specific encoding (.xls, .pdf - even if they have text, .bmp, .jpeg, .mp3).</li>
</ul>
<p>When dealing with file modes, Python defaults to text files. If you want to work in binary mode you have to specify that adding an <strong>-b</strong> flag at the end.</p>
</div>
<div id="file-modes-what-do-you-want-to-do-with-files" class="section level3">
<h3><span class="header-section-number">5.12.2</span> File Modes: What Do you Want to Do with Files?</h3>
<p>You may want to do different things with your file, both text files and binary files. Depending on what you want to do you choose the appropriate mode by specifying a flag.</p>
<p>The <strong>file modes</strong> are the following:</p>
<ul>
<li>‘r’: Read mode. This is how you access the information. You have to think about it as <em>read only</em>. You can’t alter the content. If you want read mode for binaries, the flag is ‘rb’;</li>
<li>‘w’: write mode. This is how you can modify a file. Modify includes <strong>creating</strong> it. This may be counter intuitive. Try thinking about this as “writing a file for the first time”. Also, when we write a file we are starting all over again. So if you have two lines to write on a file and you call the file in write mode to write line 1, then you call again the file and write line 2 <em>you’ll see only line 2</em>. Calling write mode for the second time will let you restart the writing process. To work in write mode with binaries use ‘wb’. If you want to keep writing on the same file (think “turning the pages of a book, rather than restarting on the first page every time”), we need the append mode;</li>
<li>‘a’: append mode. This is what you need to append (i.e. <em>add</em>) information at the end of a file (think “keep turning the pages of the book, instead of buying a new one and read page one again. Then repeating this whole buy-read page one business”). This is what you should use to add content to a file line after line. Again, to work with binaries change the flag to ‘ab’;</li>
<li>‘r+’: Read and Write mode. This allows you to read from a file <em>and</em> write to it. Writing works as ‘w’, so erasing the old content. To have this work in binary mode, we keep adding the -‘b’ flag at the end: ‘r+b’;</li>
<li>‘a+’: Append and Read mode. This allows you to read from the file <em>and</em> append to it. To work with binary files use ‘a+b’;</li>
<li>‘x’: creation mode. This is used to create a file and only for that (should you need that specific option). The binary version is ‘xb’.</li>
</ul>
</div>
<div id="opening-and-writing-to-file" class="section level3">
<h3><span class="header-section-number">5.12.3</span> Opening and Writing to File</h3>
<p>To open a file we need to assign it to some object and then call <strong>open(‘filename’, ‘filemode’)</strong>.</p>
<p>Files have to be closed when you are done with them (think of this as clicking the X on a program window). This helps in managing resources. We close files with the close() method.</p>
<p>Putting this all together:</p>
<p><em>Open and close a file (file dentist)</em></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb45-1" title="1"><span class="co">#open file, be sure it&#39;s in the working directory</span></a>
<a class="sourceLine" id="cb45-2" title="2">file_object <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;yourfile.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</a>
<a class="sourceLine" id="cb45-3" title="3"><span class="co">#close the file</span></a>
<a class="sourceLine" id="cb45-4" title="4">file_object.close()</a></code></pre></div>
<p>This looks tedious. There’s a lot of things we have to do while programming and we <em>may</em> forget to close the file at the right time. But we can ensure that it is done for us by the computer. We need to use a <em>with</em> statement.</p>
<p>By using with statements we can assign certain operations a specific name as an alias and perform operations on that. As we exit the with statement, that acts as a container for the operations, all files are closed.</p>
<p>Here is how to read from a file - you guess it, with <strong>read()</strong> using a with statement:</p>
<p><em>Reading a file with a with statement</em></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb46-1" title="1"><span class="co">#open file, be sure it&#39;s in the working directory</span></a>
<a class="sourceLine" id="cb46-2" title="2"></a>
<a class="sourceLine" id="cb46-3" title="3"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;yourfile.txt&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> dataobject:</a>
<a class="sourceLine" id="cb46-4" title="4">    a <span class="op">=</span> dataobject.read()</a>
<a class="sourceLine" id="cb46-5" title="5">    <span class="co">#do something with that</span></a>
<a class="sourceLine" id="cb46-6" title="6">    </a>
<a class="sourceLine" id="cb46-7" title="7"><span class="co">#ok, move to something else</span></a></code></pre></div>
<p>Cool, we can open and read files efficiently. But how do we create a new file?</p>
<p>Either we use the x mode or, whenever we open a file with w or a mode a file is created. So, to create a file called ‘result.txt’ we can do the following:</p>
<p><em>Creating a new file</em></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb47-1" title="1"><span class="co">#open file, be sure it&#39;s in the working directory</span></a>
<a class="sourceLine" id="cb47-2" title="2"></a>
<a class="sourceLine" id="cb47-3" title="3">newfile <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;result.txt&#39;</span>, <span class="st">&#39;a&#39;</span>)</a>
<a class="sourceLine" id="cb47-4" title="4"><span class="co">#or</span></a>
<a class="sourceLine" id="cb47-5" title="5"></a>
<a class="sourceLine" id="cb47-6" title="6">newfile <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;result.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)</a>
<a class="sourceLine" id="cb47-7" title="7"><span class="co">#or</span></a>
<a class="sourceLine" id="cb47-8" title="8"></a>
<a class="sourceLine" id="cb47-9" title="9"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;result.txt&#39;</span>, <span class="st">&#39;a&#39;</span>) <span class="im">as</span> <span class="bu">file</span>:</a>
<a class="sourceLine" id="cb47-10" title="10">    <span class="co">#do something with that file</span></a></code></pre></div>
<p>Ok, now it is time to write some lines into the file. This works a lot like appending content to a list: we first ensure our list/file is there, then we specify what to add to the file/list.</p>
<p>In case of a file there is an extra condition to verify: the file needs to be opened and we need to open the file in a way that allows us to write on it.</p>
<p>Let’s demonstrate how to create a with our ‘dataresults’ using a with statement and writing some lines of results.</p>
<p><em>Create a file and write in it - ch. 5.13</em></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb48-1" title="1"><span class="co">#create the file</span></a>
<a class="sourceLine" id="cb48-2" title="2"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;dataresults.txt&#39;</span>, <span class="st">&#39;a&#39;</span>) <span class="im">as</span> <span class="bu">file</span>:</a>
<a class="sourceLine" id="cb48-3" title="3">    <span class="bu">file</span>.write(<span class="st">&#39;These are the results of our experiment&#39;</span>)</a>
<a class="sourceLine" id="cb48-4" title="4">    <span class="bu">file</span>.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>) <span class="co">#add new line</span></a>
<a class="sourceLine" id="cb48-5" title="5">    <span class="bu">file</span>.write(<span class="st">&#39;Account X has N followers on social Z&#39;</span>)</a>
<a class="sourceLine" id="cb48-6" title="6">    <span class="bu">file</span>.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</a></code></pre></div>
<p>This is just a template. You can add the newline at the end of the line and not as a dedicated write statement. Also, you can have the X, N and Z as arguments that you pass to a certain function. In that way have your function or class to be able to write its own data.<a href="#fn40" class="footnote-ref" id="fnref40"><sup>40</sup></a></p>
</div>
<div id="matching-files-with-a-certain-ending-system-paths-and-working-directory" class="section level3">
<h3><span class="header-section-number">5.12.4</span> Matching Files with a Certain Ending, System Paths, and Working Directory</h3>
<p>There’s another operation that you may want to do.</p>
<p>Chances are that, when running programs, you are going to iterate on folders and do things to specific files. The good news is that the <strong>os module</strong> (you guessed it: operative system) allows you to run most of command lines operation like dir in Python.</p>
<p>Suppose you want to merge all your pdfs in a certain folder. You need to find out all the pdfs there. That’s easy. You need all the files in the directory ending with pdf.</p>
<p>You can check file endings with the .endswith() method. All you are missing how to perform the equivalent of CLI ‘dir’ command. The os module has what you need. The method is: <strong>os.listdir()</strong>.</p>
<p>From the docs we learn that the function <em>Return a list containing the names of the entries in the directory given by path. The list is in arbitrary order, and does not include the special entries ‘.’ and ‘..’ even if they are present in the directory.</em></p>
<p>Suppose you want to collect all the pdfs in a folder. You just need to find them and append them to a list called mypdfs (for example). Then you can run operations on them.</p>
<p>The files you want to operate with must be available to your Python session. If you operate on files and call functions like open(‘myfile.txt’, ‘r’) Python assumes the file is available in the current working directory. If the file is not in the current directory, you get an error. To find out what your current working directory is we can use the os module again. The method is: <strong>os.getcwd()</strong>.</p>
<p>You can change your working directory with <strong>os.chdir(‘path/of/new/directory’)</strong>.</p>
<p>If you want to operate on file outside the current directory you can access them providing the full path, taking due care of proper formatting of your string. Here are the docs to be a path manipulation master: <a href="https://docs.python.org/3/library/os.path.html" class="uri">https://docs.python.org/3/library/os.path.html</a>.</p>
</div>
</div>
<div id="regular-expressions" class="section level2">
<h2><span class="header-section-number">5.13</span> Regular Expressions</h2>
<p>Regular expressions (or ‘regex’ or even ‘regexp’) are a powerful tool to search and modify text. The idea is pretty simple: with a regular expression you assemble some specific LEGO bricks that stand for different elements (characters, digits, punctuation, repetitions) to form a pattern. Then you use this patter against an input and retrieve the matches.</p>
<p>You are given multiple options on where and how to match: at the beginning of a line, parsing each word, inside a word, etc. You can retrieve segments of what you match using <em>capturing groups</em>, which we’ll use in a while, and choose to perform specific operations with your matches, like changing all the matched ‘\’ to ‘/’ or the other way around.</p>
<p>In a <a href="https://www.theguardian.com/technology/2012/dec/04/ict-teach-kids-regular-expressions">famous piece advocating regex knowledge</a>, <strong>Corey Doctorow</strong> writes:</p>
<blockquote>
<blockquote>
<blockquote>
<p>“Regular expressions are part of the fundamental makeup of modern software. They are present, in some form or another, in every modern operating system. Word processors, search-engines, blogging programs … though it’s been decades since software for everyday people was designed with the assumption that users would know regexps, they still lurk in practically every environment we use”.</p>
</blockquote>
</blockquote>
</blockquote>
<p>We’ll perform our regex workout in <em>Python</em> and we’ll e<em>xtract bibliographic data from academic papers</em>. If you are eager to get started skip the following short historic section.</p>
<div id="regex-notable-features" class="section level3">
<h3><span class="header-section-number">5.13.1</span> Regex Notable Features</h3>
<p>Regular expressions were conceived by Kleene - yes, that Kleene you know from logic<a href="#fn41" class="footnote-ref" id="fnref41"><sup>41</sup></a> - early in ’50 when he described regular languages.[See <a href="https://en.wikipedia.org/wiki/Regular_language" class="uri">https://en.wikipedia.org/wiki/Regular_language</a> for a quick intro.] Later on, they were implemented Unix text processing utilities. All advanced nerdy text editors (Vim, Vi, Grep, sed, AWK, and co) have them.</p>
<p>Doctorow’s piece inviting the school system to teach regex to the kids (read that here: <a href="https://www.theguardian.com/technology/2012/dec/04/ict-teach-kids-regular-expressions" class="uri">https://www.theguardian.com/technology/2012/dec/04/ict-teach-kids-regular-expressions</a>) has already been mentioned. What wasn’t mentioned is one of the best paragraphs to motivate some research in Digital Humanities and building technical literacy:</p>
<blockquote>
<blockquote>
<blockquote>
<p>“Much of the world you interact with, from cash machines to your bank’s website to the website where you sign on for disability benefits to the alarm clock that wakes you in the morning to the phone that tracks your location, social network, and personal thoughts, are underpinned by software. At the very least, a cursory understanding of the working of software will help you judge the reliability, quality, and utility of the software in your life”.</p>
</blockquote>
</blockquote>
</blockquote>
</div>
<div id="matching-expressions" class="section level3">
<h3><span class="header-section-number">5.13.2</span> Matching Expressions</h3>
<p>Regular Expressions are a small(ish) language on their own. You have short symbols that stand for something else. We use this regex LEGO to build a pattern. Then we are going to match the pattern against a given text. (There are different flavors and different implementation of them, as it’s often the case).</p>
<p>Regular expressions are at first hard on the eyes, but all you need <a href="https://www.youtube.com/watch?v=ErvgV4P6Fzc">is just a little patience, as Axel said</a>. Most of the LEGO bricks start with a \ followed by something.</p>
<p>Most of our LEGO bricks are two characters set. Here are some of the most used:</p>
<ul>
<li>do you want to match any <em>digit</em>, i.e. a number going from 0 to 9? Use <strong>\d</strong></li>
<li>do you want to define a <em>customized class of ranges</em> to be matched? Use square brackets and put the range limits inside, separated by a dash (-). For example: if you want to match numbers from 1 to 7 go for <strong>[1-7]</strong>. If you want to match any digit and don’t like the \d syntax we have used above, go for [0-9]</li>
<li>if you want to match any character, use the dot <strong>.</strong></li>
<li>if you want to match one or more occurrences of a certain pattern use the star <strong>* </strong></li>
<li>if you want a certain component to be optional, add a <strong>?</strong> after the component. This is a quantifier meaning “zero or one occurrence”</li>
<li>if you want to match a space, use <strong>\s</strong></li>
<li>parentheses ‘<strong>(</strong>’ <em>are a symbol of the language</em>, in fact, they define <em>capturing group</em> - see later. If you want to match a parenthesis you have to use regex escape character, i.e. \</li>
<li>if you want to match whatever is not a white-space you can use <strong>\S</strong> (in that way you will catch Capitalized and lower letter, digits and punctuation)</li>
<li>if you want to match a word character use <strong>\w</strong> (word characters include letters Capitalized and not capitalized <em>and</em> digits <em>and</em> the underscore character)</li>
</ul>
</div>
</div>
<div id="learn-by-doing-for-the-humanities-matching-bibliographical-patterns" class="section level2">
<h2><span class="header-section-number">5.14</span> Learn by Doing for the Humanities: Matching Bibliographical Patterns</h2>
<p>Our task is that of identifying the bibliographic data in a paper. We assume the paper is given as text input. Our task is to develop regexes for the different styles of bibliography, in particular:</p>
<ul>
<li>Author (Date);</li>
<li>(Author, Date);</li>
<li>(Author Date);</li>
<li>fulldata: which, more or less, has the following form: “Author separator title separator publication separator date”.</li>
</ul>
<p>We want to be able to match these different styles and we aim at a standardization of these inputs. For each of these we’ll extract Author and Date. We’ll need capturing groups for that.</p>
<div id="capturing-groups" class="section level3">
<h3><span class="header-section-number">5.14.1</span> Capturing Groups</h3>
<p>We want to standardize the references we find in different styles to something simpler and common, like Author Date. No fancy parentheses or similar. This standardization can then be used to make some analysis on most quoted or influencing paper or whatever you want.</p>
<p>We need to detach some information so that we can compare the bibliographies across different journals employing different styles.</p>
<p>To produce that standardization we can use <strong>capturing groups</strong>. They are groups that allow us to retrieve just a part of what we matched (here: Author and Date). To add a capturing group to a regular expression all we need is to delimit the group by using brackets. In Python, the groups are accessed as items in a list.</p>
<p>Suppose we have a regular expression like <strong>regexbookchicago</strong> that captures books under the Chicago style. If we single out two capturing groups from that, we can access them as list[0] and list[1] a code example may help.</p>
<p><em>Regex and capturing groups template</em></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb49-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb49-2" title="2"><span class="co">#mock regex matching chicago style</span></a>
<a class="sourceLine" id="cb49-3" title="3">regexbookchicago <span class="op">=</span> <span class="st">&#39;(authorpart) title (date part)&#39;</span></a>
<a class="sourceLine" id="cb49-4" title="4">text <span class="op">=</span> <span class="st">&#39;Some text with Chicago style references&#39;</span></a>
<a class="sourceLine" id="cb49-5" title="5"><span class="co">#store a list of lists of all our matches</span></a>
<a class="sourceLine" id="cb49-6" title="6">match_pattern_to_text <span class="op">=</span> re.findall(regexbookchicago, text)</a>
<a class="sourceLine" id="cb49-7" title="7"><span class="cf">for</span> match <span class="kw">in</span> match_pattern_to_text:</a>
<a class="sourceLine" id="cb49-8" title="8">    <span class="bu">print</span>(<span class="st">&#39;Match found: &#39;</span>, match_pattern_to_text[<span class="dv">0</span>] <span class="op">+</span> <span class="st">&#39; &#39;</span>,</a>
<a class="sourceLine" id="cb49-9" title="9">    match_pattern_to_text[<span class="dv">1</span>])</a></code></pre></div>
</div>
<div id="matching-author-date" class="section level3">
<h3><span class="header-section-number">5.14.2</span> Matching Author (date)</h3>
<p>Let’s start with matching Author (date). Our basic task is to build regex-LEGO bricks to match Author and date. A date is pretty easy, it’s just a block of 4 digits (we are ignoring referencing stuff 3 digits, like Giustiniano 529; or dealing with 2003a or similar).</p>
<p>A date is nothing but something like this:</p>
<p><em>Date as regex</em></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb50-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb50-2" title="2">dateregex <span class="op">=</span> <span class="st">&#39;\d\d\d\d&#39;</span></a></code></pre></div>
<p>We develop this adding a sample test that features textual elements. We are going to match dates in this test and then print the result.</p>
<p><em>Regex data test - ch. 5.14</em></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb51-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb51-2" title="2"></a>
<a class="sourceLine" id="cb51-3" title="3">dateregex <span class="op">=</span> <span class="st">&#39;\d\d\d\d&#39;</span></a>
<a class="sourceLine" id="cb51-4" title="4">sampletext <span class="op">=</span> (<span class="st">&#39;The biggest contribution to the field is due to &#39;</span></a>
<a class="sourceLine" id="cb51-5" title="5">    <span class="st">&#39;Master (2001) and its impac cannot be denied&#39;</span>)</a>
<a class="sourceLine" id="cb51-6" title="6">match <span class="op">=</span> re.findall(dateregex,sampletext)</a>
<a class="sourceLine" id="cb51-7" title="7"><span class="bu">print</span>(match)</a></code></pre></div>
<p>Run this and see we are catching ‘2001’.</p>
<p>Now we need to add author with is nothing but a surname, i.e. a Capitalized letter followed by some non capitalized letters. To catch the author we basically want a capital letter in the range [A-Z] followed by any number of letters in [a-z] range.</p>
<p>A first implementation would be:</p>
<p>author1 = ’[A-Z][a-z]*’</p>
<p>Note that this is not the same as</p>
<p>author2 = ‘[a-zA-Z]*’.</p>
<p>In fact author1 requires a Capitalized letter in at the beginning of the match; author2 does not. It will match continuos strings of capitalized and non capitalized letters, included tHisOneHere. (Note that author2 if written as ‘[A-Za-z]*’ may result into errors on some compilers online.)</p>
<p>You can also implement the author as</p>
<p>author3 = ‘\S*’ solving the capitalization issue. Beware that here you will also get all the words into the text punctuation included.</p>
<p>To exclude the punctuation go for:</p>
<p>author4 = ‘\w*’.</p>
<p>The code template below allows you to play around and understand the various ways to catch the author. Substitute the different author expressions above into the authorregex variable and try to match Master <strong>only</strong>.</p>
<p><em>A regex matching more than we wanted to - ch. 5.15</em></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb52-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb52-2" title="2"></a>
<a class="sourceLine" id="cb52-3" title="3">authorregex <span class="op">=</span> <span class="st">&#39;INSERT ONE OF THE AUTHOR REGEXES ABOVE&#39;</span></a>
<a class="sourceLine" id="cb52-4" title="4">sampletext <span class="op">=</span> (<span class="st">&#39;The biggest contribution is Master (2001).&#39;</span></a>
<a class="sourceLine" id="cb52-5" title="5">    <span class="st">&#39;Its impact cannot be denied, on pain of miSbeHaving.&#39;</span>)</a>
<a class="sourceLine" id="cb52-6" title="6">match <span class="op">=</span> re.findall(authorregex,sampletext)</a>
<a class="sourceLine" id="cb52-7" title="7"><span class="bu">print</span>(match)</a></code></pre></div>
<p>As you could see, we are overmatching our text. Depending on the expression used we are going to get whatever starts with a capitalization (‘The’, ‘Its’) and more.</p>
<p><strong>Don’t panic, we are on the right track</strong>. We need to connect the two elements we have identified. What’s linking them together in a unique way?</p>
<p>First, parentheses are around the date, so we have to add them to the date (remember to escape them). Then, there’s the space in between.
The resulting code is below. I’ve opted for ’[A-Z][a-z]*’ to match the Author as it is easier to see what we are asking to match.</p>
<p><em>Matching author date regex</em></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb53-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb53-2" title="2">authordateregex <span class="op">=</span> <span class="st">&#39;[A-Z][a-z]*\s\(\d\d\d\d\)&#39;</span></a>
<a class="sourceLine" id="cb53-3" title="3">sampletext <span class="op">=</span> (<span class="st">&#39;The biggest contribution is Master (2001).&#39;</span></a>
<a class="sourceLine" id="cb53-4" title="4">    <span class="st">&#39;Its impact cannot be denied, on pain of miSbeHaving.&#39;</span>)</a>
<a class="sourceLine" id="cb53-5" title="5">match <span class="op">=</span> re.findall(authordateregex,sampletext)</a>
<a class="sourceLine" id="cb53-6" title="6"><span class="bu">print</span>(match)</a></code></pre></div>
<p>Run this and be happy, we are getting the ‘Master (2001)’.</p>
<p>Now it’s time to isolate the elements with capturing groups. We want to isolate author and date, without the parenthesis. See if you can match the two groups adding parentheses.</p>
<p>Here’s where to put them:</p>
<p><em>Regexes and capturing groups - ch. 5.16</em></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb54-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb54-2" title="2">capturingauthordate <span class="op">=</span> <span class="st">&#39;([A-Z][a-z]*)\s\((\d\d\d\d)\)&#39;</span></a>
<a class="sourceLine" id="cb54-3" title="3">sampletext <span class="op">=</span> (<span class="st">&#39;The biggest contribution is Master (2001).&#39;</span></a>
<a class="sourceLine" id="cb54-4" title="4">    <span class="st">&#39;Its impact cannot be denied, on pain of miSbeHaving.&#39;</span>)</a>
<a class="sourceLine" id="cb54-5" title="5">capturingmatch <span class="op">=</span> re.findall(capturingauthordate,sampletext)</a>
<a class="sourceLine" id="cb54-6" title="6"><span class="cf">for</span> item <span class="kw">in</span> capturingmatch:</a>
<a class="sourceLine" id="cb54-7" title="7">    <span class="bu">print</span>(item[<span class="dv">0</span>] <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> item[<span class="dv">1</span>])</a></code></pre></div>
</div>
<div id="matching-author-date-and-author-date" class="section level3">
<h3><span class="header-section-number">5.14.3</span> Matching (Author date) and (Author, date)</h3>
<p>Things start getting nasty here. First, we have to choose if you want the same regex to perform both matches or not. It seems that the second expression (Author, date) is nothing but the first (Author date) with an added comma. That’s a tasty opportunity to use optional matching (zero or one quantifier above, i.e. ‘?’).</p>
<p>Still, if we go down that path we had to be aware that not all the equivalent author options we saw above are still valid. In fact, if we match the author with ‘\S’ we are going to catch the comma after author in (Author, date) as part of the author name. So it will be in the author capturing group.</p>
<p>The nice part about this expression is that whatever we need to capture is between the parenthesis, so there’s no need to match the two parts and then find a way to join them.</p>
<p>Here’s the code to match the expression, with the optional parenthesis.
Our new regex is called <em>capturingparenthesis</em> and the sample text now includes (Author date) and (Author, date).</p>
<p><em>Multi matching with optional comma</em></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb55-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb55-2" title="2">capturingparenthesis <span class="op">=</span> <span class="st">&#39;\(([A-Z][a-z]*),?\s(\d\d\d\d)\)&#39;</span></a>
<a class="sourceLine" id="cb55-3" title="3">sampletext <span class="op">=</span> (<span class="st">&#39;The biggest contribution to the field is due to &#39;</span></a>
<a class="sourceLine" id="cb55-4" title="4">    <span class="st">&#39;(Master 2001). Nonetheless, (Slave, 2002) is probably a more &#39;</span></a>
<a class="sourceLine" id="cb55-5" title="5">    <span class="st">&#39;accessible version of these ideas.&#39;</span>)</a>
<a class="sourceLine" id="cb55-6" title="6">capturingmatch <span class="op">=</span> re.findall(capturingparenthesis,sampletext)</a>
<a class="sourceLine" id="cb55-7" title="7"></a>
<a class="sourceLine" id="cb55-8" title="8"><span class="cf">for</span> item <span class="kw">in</span> capturingmatch:</a>
<a class="sourceLine" id="cb55-9" title="9">    <span class="bu">print</span>(item[<span class="dv">0</span>] <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> item[<span class="dv">1</span>])</a></code></pre></div>
</div>
<div id="fulldata" class="section level3">
<h3><span class="header-section-number">5.14.4</span> Fulldata</h3>
<p>Fulldata is the worst part of our mission. Not only the style varies across the different items (article, journals, etc.); often you won’t get a bibliography at the end to have a simplified tool to check for accuracy.</p>
<p>The bad feature for us is that the information we care about are far away from each other. Author is somewhere at the beginning but the date is at the end, surrounded by a ridiculous amount of stuff like title, editors of volumes, issues of the journal, journal names, etc. Every element adds more complexity to our guessing and singling out a scheme.</p>
<p>Think hard and try to find a solution. Here’s an attempt:</p>
<p><em>Regex for fulldata, an attempt</em></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb56-1" title="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb56-2" title="2">fulldatatextsample <span class="op">=</span> (<span class="st">&#39;Murphy, &quot;Was Hobbes a Legal Positivist?,&quot; </span></a>
<a class="sourceLine" id="cb56-3" title="3"><span class="st">    &#39;</span>Ethics (<span class="dv">1995</span>)<span class="st">&#39;)</span></a>
<a class="sourceLine" id="cb56-4" title="4"><span class="st">regexfulldata= &#39;</span>([A<span class="op">-</span>Z][a<span class="op">-</span>z]<span class="op">*</span>),<span class="op">\</span>s<span class="st">&quot;[A-Za-z\s?,&quot;</span>]<span class="op">*\</span>((<span class="op">\</span>d<span class="op">\</span>d<span class="op">\</span>d<span class="op">\</span>d)<span class="op">\</span>)<span class="st">&#39;</span></a></code></pre></div>
<p>What is doing the heavy lifting here is the following term:</p>
<p><strong>"[A-Za-z\s?,"]</strong></p>
<p>In fact, we know how to catch the name and the year, the hard part is that of getting the re modular part of the title. The title of the work is going to include letters (both capitalized and not capitalized) and spaces, as a title is often composed of more words. We also need to catch special delimiter, like double-quotes.</p>
<p>Note that this will catch also the name of the journal. In fact, we don’t know how many words are going to be in the title. The rest of the implementation of the script is the same as before, so you can use it</p>
</div>
<div id="limitations-open-issues-and-regex-building-tips" class="section level3">
<h3><span class="header-section-number">5.14.5</span> Limitations, Open Issues and Regex Building Tips</h3>
<p>There are several issues with our first attempts. In fact, right now we can’t get titles that include parenthesis. We can’t include numbers.
A better attempt would be to parse the fulldata string as:</p>
<ol style="list-style-type: decimal">
<li>author;</li>
<li>title;</li>
<li>journal/book/whatever;</li>
<li>year.</li>
</ol>
<p>We need to use proper separator matching the style of the journal.</p>
<p>We only scratched the surface but nonetheless showed that we have a powerful tool here. Some of the limitations are:</p>
<ul>
<li>we are not capturing a, b, c in the date: how can we handle that?</li>
<li>we are not considering two parts surnames like von Fintel, von Wright, van der Torre, De Re, De Seh, etc. And what about De Las Casas? (You may say that’s not an issue as we are going to get the last surname)</li>
<li>sometimes we have multiple quotations from the same author, like Master (2001, 2002, 2003, 2004) (No, that’s not a sample of Federer’s Wimbledon series). How can we cope with that?</li>
<li>Author (date) is cool, but it can get worse. Our implementation fails to get Master (2001, 2002) as well as Master (2001: 112-121). Is there a way around that?</li>
<li>What about coauthored papers? We are to work on ‘Author &amp; Author’ and also ‘Author et al.’.</li>
</ul>
<p>I find it useful to build the regular expression piece by piece. So, in this case, I try to isolate the author and the date. This helps to see how your regex may fail, like matching any capitalized word in addition to the Surname of the Author. If something more complex is needed, like in the case of better implementing the fulldata case, you can try going the other way around: first, you match most of the string and then try to reduce what you matched.</p>
</div>
</div>
<div id="summary-4" class="section level2">
<h2><span class="header-section-number">5.15</span> Summary</h2>
<p>We’ve seen quite a lot of things here. This is probably the most dense chapter so far. It covered both basics and ways to use them. Most of the interesting ways to use the basics were merely described and not implemented. Come back here and try to realize these programs after you have more experience (e.g., after going through part III).</p>
<p>We also start working on more applied research-based stuff exploring regular expressions.</p>
<div id="programming-concepts-methods-and-functions-recap" class="section level3">
<h3><span class="header-section-number">5.15.1</span> Programming Concepts, Methods and Functions Recap</h3>
<p>We have gone through the following functions and methods. Make sure they make sense to you:</p>
<ul>
<li>input()</li>
<li>type()</li>
<li>int()</li>
<li>str()</li>
<li>set</li>
<li>string_slice[beginning_included:end_notincluded:step]</li>
<li>string.upper()</li>
<li>string.lower()</li>
<li>string.capitalize()</li>
<li>string.split(“separator”)</li>
<li>string.replace(“selection”,“replacement”)</li>
<li>len()</li>
<li>list.append(“item to add”)</li>
<li>list()</li>
<li>range(beginning_included:end_notincluded:step)</li>
<li>dictionary.get()</li>
<li>dictionary.values()</li>
<li>dictionary.items()</li>
<li>floor division %</li>
<li>try … except</li>
<li>if (elif) (else)</li>
<li>for in</li>
<li>while</li>
<li>comprehensions</li>
<li>defining functions and classes (what are init and self?)</li>
<li>os.getcwd()</li>
<li>os.listdir()</li>
<li>os.path</li>
</ul>
</div>
<div id="re-module-useful-regex-commands" class="section level3">
<h3><span class="header-section-number">5.15.2</span> Re module (useful regex Commands)</h3>
<ul>
<li>re.match() beginning of the string</li>
<li>re.search() any position in the string</li>
<li>re.findall() all matches in the whole document (non-overlapping matches)</li>
<li>re.finditer(): all matches in the whole document (overlaps included)</li>
<li>re.sub(): replace goes regex</li>
</ul>
<p>needs a comparison between findall and finditer</p>
</div>
<div id="more-resources-4" class="section level3">
<h3><span class="header-section-number">5.15.3</span> More Resources</h3>
<p>Of course you want to know more about code specifications. Python Enhancement Proposal 8 (PEP 8 in jargon - <a href="https://www.python.org/dev/peps/pep-0008/" class="uri">https://www.python.org/dev/peps/pep-0008/</a>) is where the format standards are defined.</p>
<p>Resources on Python abound. Let’s start from free resources:</p>
<ul>
<li><p>python’s official tutorial is great <a href="https://docs.python.org/3/tutorial/" class="uri">https://docs.python.org/3/tutorial/</a>. Be sure to check out parts 10 and 11 on the standard library. Part 12 about virtual environment (you’ve seen them already) and also part 9 on classes if you want more details on them;</p></li>
<li><p>IPython’s tutorial is great as well <a href="https://ipython.readthedocs.io/en/stable/interactive/" class="uri">https://ipython.readthedocs.io/en/stable/interactive/</a> but a bit less beginner-friendly. It is closer to a documentation page than a step by step tutorial. Check the introducing IPython section, the “IPython as a system shell” section (now you know command lines) and the “IPython Tips &amp; Tricks” as well as the “Built-in magic commands”. Come back to this quite often.</p></li>
<li><p>If you feel I let you down with dictionaries, here’s a nice visual introduction <a href="https://www.freecodecamp.org/news/python-dictionaries-detailed-visual-introduction/" class="uri">https://www.freecodecamp.org/news/python-dictionaries-detailed-visual-introduction/</a></p></li>
<li><p>Here’s a training on dictionaries and the various retrieving techniques we previously only mentioned. In the training you analyze craft beers. <em>HumanDemia</em> says <em>cheers</em>! <a href="https://www.dataquest.io/blog/python-dictionary-tutorial/" class="uri">https://www.dataquest.io/blog/python-dictionary-tutorial/</a></p></li>
<li><p>The LearnXinYminutes website is great to skim over / learn / review essentials. Here’s what we’ve seen and more on Python: <a href="https://learnxinyminutes.com/docs/python/" class="uri">https://learnxinyminutes.com/docs/python/</a>.</p></li>
<li><p>A more comprehensive treatment of errors can be found in the Python docs: <a href="https://docs.python.org/3/tutorial/errors.html" class="uri">https://docs.python.org/3/tutorial/errors.html</a></p></li>
<li><p>If you need some motivation and/or perspective on what we are doing, this piece on profession and trade, have a look here: <a href="https://medium.com/@christianalexanderbonilla/theprogramming-toolkit-wheres-my-screwdriver-rb-8913473eab4" class="uri">https://medium.com/@christianalexanderbonilla/theprogramming-toolkit-wheres-my-screwdriver-rb-8913473eab4</a>.</p></li>
</ul>
<p>Time to move to books:</p>
<ul>
<li>Mark Pilgrim’s <em>Dive into Python 3</em> is free: <a href="https://diveintopython3.problemsolving.io/" class="uri">https://diveintopython3.problemsolving.io/</a>. (Harry J.W. Percival - an author you’ll see mentioned in the next chapter, obey the testing goat! - mentions this, together with <em>Invent Your Own Computer Games with Python</em> by Al Seigwart and <em>Learn Python the Hard Way</em> as the book he used to learn Python).</li>
</ul>
<p>Moving to paid ones:</p>
<ul>
<li>Joel Grus’s <em>Data Science from Scratch. First Principles with Python</em> chs. 4 and 9 have, respectively, a super concise and practical Python crash course and then a crash course on file operations. The rest of the book is also great. (Joel starts with the Zen of Python and venvs, then whitespaces, functions and data structures.)</li>
<li>Al Seigwart’s <em>Automate the Boring Stuff with Python</em> is a super gently introduction to Python basics <em>while</em> helping you construct your Python programs that have a purpose and, hopefully, will save you some time.</li>
<li>Wes McKinney’s <em>Python for Data Analysis</em> ch. 3 has a nice introduction to IPython.</li>
</ul>
</div>
<div id="further-work-4" class="section level3">
<h3><span class="header-section-number">5.15.4</span> Further Work</h3>
<p>There’s quite a lot we can do here:</p>
<ul>
<li><p>remember the print() function you looked for in quest for its documentation? What’s standard for you learning Python form Python 3.x wasn’t standard in Python 2.x. Unfold this story.</p></li>
<li><p>every .py file can be imported as a module, <em>included your own programs</em>. Try to look for more. (Hint: ‘namespace’ is a concept that can get you there.)</p></li>
</ul>
<p><strong>Dictionaries</strong></p>
<p>40 dictionary related exercises (with clickable solutions): <a href="https://www.w3resource.com/python-exercises/dictionary/" class="uri">https://www.w3resource.com/python-exercises/dictionary/</a></p>
<p><strong>Regex Programs and Exercises</strong></p>
<ul>
<li><input type="checkbox" disabled="" />
add a / to \ and the other way around converter;</li>
<li><input type="checkbox" disabled="" />
develop date to match also 2003a or similar;</li>
<li><input type="checkbox" disabled="" />
write your program to capture internal references in a text. These references could be cross-references to sections or chapters in a book or references to articles and laws in a legal corpus or even more.</li>
</ul>
<p>A hard one: <strong>From a Feature to an App?</strong></p>
<p>Now you have the basic concepts, if you want to build an app out of this, consider the following <em>user stories</em>, i.e. tech industry way to mean ‘features of the program/app’.</p>
<p>If this sounds weird remember that the things you do as a programmer are supposed to have people using it and interacting with it.
When was the last time you thought about who was going to interact with your paper, project, or talk slides as an Academic in the Humanities?</p>
<p>User stories:</p>
<ul>
<li>user is able to input text;</li>
<li>user selects the biblio styles that are relevant for the paper;</li>
<li>the output is stored somewhere.</li>
</ul>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="31">
<li id="fn31"><p>If you want a copy and paste approach, clone the GitHub repo of the book.<a href="ch5.html#fnref31" class="footnote-back">↩</a></p></li>
<li id="fn32"><p>Norvig works at Google and, among many other things, he has a book called <em>Paradigms of Artificial Intelligence Programming</em> you can read for free here: <a href="https://github.com/norvig/paip-lisphttps://github.com/norvig/paip-lisp" class="uri">https://github.com/norvig/paip-lisphttps://github.com/norvig/paip-lisp</a>. <a href="ch5.html#fnref32" class="footnote-back">↩</a></p></li>
<li id="fn33"><p>Remember? Dunder is the double underscore pattern, so __doc__ is ‘dunder doc’. By saying that we are populating the dunder it means that we are storing the docstrings information somewhere they can be used. Suppose we have a tool that creates software documentation. This tools will look for the information in dunder doc and organize them. Remember using IPython to <em>know more</em> about functions and pieces of code? Often you are getting info stored as docstrings.<a href="ch5.html#fnref33" class="footnote-back">↩</a></p></li>
<li id="fn34"><p>Still they will populate dunder doc if they happen inside functions, classes and methods.<a href="ch5.html#fnref34" class="footnote-back">↩</a></p></li>
<li id="fn35"><p>Time objects are quite complex, if you plan to work on task scheduling and optimizer be sure to read the datetime module.<a href="ch5.html#fnref35" class="footnote-back">↩</a></p></li>
<li id="fn36"><p>I prompt you to explore testing more: the module you are looking for is unittest: <a href="https://docs.python.org/3/library/unittest.html?highlight=unittest#module-unittest" class="uri">https://docs.python.org/3/library/unittest.html?highlight=unittest#module-unittest</a> and there it is.<a href="ch5.html#fnref36" class="footnote-back">↩</a></p></li>
<li id="fn37"><p>How can we succeed with the replace method if strings are immutable? That’s the kind of great questions that prompts your ever-learning attitude and grasping of the internals of Python. Docs for replace have your answer. And then you’ll want to find out more about copy<a href="ch5.html#fnref37" class="footnote-back">↩</a></p></li>
<li id="fn38"><p>There are reasons to call ‘conda update’.<a href="ch5.html#fnref38" class="footnote-back">↩</a></p></li>
<li id="fn39"><p>The latter is quite a good exercise. If you want to explore more about objects and classes have a look at Java and the Head first book mentioned a while ago at the beginning of the chapter. Also try to read some of <em>Design Patterns: Elements of Reusable Object-Oriented Software</em> by Gamma, E., Helm, R., Johnson, R. e Vlissides, J. (known collectively as the ‘Gang of Four’). While the book is Java-based it will show you what you can do with classes <em>in real life</em>.<a href="ch5.html#fnref39" class="footnote-back">↩</a></p></li>
<li id="fn40"><p>With statements have their own pep: <a href="https://www.python.org/dev/peps/pep-0343/" class="uri">https://www.python.org/dev/peps/pep-0343/</a>. <a href="ch5.html#fnref40" class="footnote-back">↩</a></p></li>
<li id="fn41"><p>This one <a href="https://en.wikipedia.org/wiki/Stephen_Cole_Kleene" class="uri">https://en.wikipedia.org/wiki/Stephen_Cole_Kleene</a>.<a href="ch5.html#fnref41" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch4.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ch6.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
